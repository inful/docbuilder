version: "2.0"

# Fast development config with specific repos (no forge discovery)
# This avoids the 1+ minute auto-discovery process
repositories:
  - url: "https://git.home.luguber.info/inful/test-doc.git"
    name: "test-doc"
    branch: "main"
    description: "Description"
    paths: ["docs"]
    tags:
      team: "someteams"
      type: "internal"
      forge_type: "forgejo"
    auth:
      type: "token"
      token: "${GIT_ACCESS_TOKEN}"



build:
  clone_strategy: auto
  clone_concurrency: 2
  shallow_depth: 10
  prune_non_doc_paths: false  # Keep everything to see images
  prune_allow:
    - LICENSE*
    - README.*

hugo:
  title: "Documentation Hub (Dev)"
  description: "Development documentation site"
  base_url: "http://localhost:8080/"
  theme: hextra
  params:
    page:
      width: full

output:
  directory: "/tmp/dev-site"
  clean: true
daemon:
  link_verification:
    enabled: true
  sync:
    schedule: "*/1 * * * *"  # Every minute for dev
  storage:
    repo_cache_dir: /tmp/dev-var/lib/docbuilder
