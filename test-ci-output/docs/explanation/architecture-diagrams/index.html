<!DOCTYPE html>
<html id="R-html" lang="en" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="html">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.152.2">
    <meta name="generator" content="Relearn 9.0.1+33e135659ec8cb98af355c4244cb76e5bb11a882">
    <meta name="description" content="This document provides visual representations of DocBuilder’s architecture using ASCII diagrams and Mermaid notation.
Last Updated: December 16, 2025 - Reflects ADR-003 fixed transform pipeline implementation.
This document provides visual representations of DocBuilder’s architecture using ASCII diagrams and Mermaid notation.
Table of Contents High-Level System Architecture Pipeline Flow Package Dependencies Data Flow Component Interactions State Machine Diagrams High-Level System Architecture Layer View ┌──────────────────────────────────────────────────────────────────┐ │ COMMAND LAYER │ │ (cmd/docbuilder/commands/) │ │ │ │ ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────────────┐ │ │ │ Build │ │ Daemon │ │ Preview │ │ Discover │ │ │ │ (Kong) │ │ (Watch) │ │ (Live) │ │ (Analysis) │ │ │ └────┬─────┘ └────┬─────┘ └────┬─────┘ └────────┬─────────┘ │ │ │ │ │ │ │ └───────┼─────────────┼─────────────┼─────────────────┼────────────┘ │ │ │ │ └─────────────┴─────────────┴─────────────────┘ │ ┌─────────────────────▼───────────────────────────────────────────┐ │ SERVICE LAYER │ │ (internal/build, internal/daemon) │ │ │ │ ┌────────────────┐ ┌─────────────────┐ ┌──────────────────┐ │ │ │ BuildService │ │ DaemonService │ │ DiscoveryService │ │ │ │ │ │ │ │ │ │ │ │ - Run() │ │ - Start() │ │ - Discover() │ │ │ │ - Validate() │ │ - Stop() │ │ - Report() │ │ │ └────────┬───────┘ └────────┬────────┘ └────────┬─────────┘ │ │ │ │ │ │ └───────────┼───────────────────┼────────────────────┼────────────┘ │ │ │ └───────────────────┴────────────────────┘ │ ┌───────────────────────────────▼─────────────────────────────────────┐ │ PROCESSING LAYER │ │ (internal/hugo, internal/docs, internal/hugo/pipeline) │ │ │ │ ┌──────────────────────────────────────────────────────────────┐ │ │ │ Hugo Generator │ │ │ │ │ │ │ │ ┌─────────────┐ ┌─────────────┐ ┌─────────────────────┐ │ │ │ │ │ Pipeline │ │ Theme │ │ Report Builder │ │ │ │ │ │ Processor │ │ System │ │ │ │ │ │ │ └──────┬──────┘ └──────┬──────┘ └──────────┬──────────┘ │ │ │ └─────────┼───────────────┼───────────────────┼────────────────┘ │ │ │ │ │ │ │ ┌─────────▼───────────────▼───────────────────▼──────────────┐ │ │ │ Fixed Transform Pipeline │ │ │ │ (internal/hugo/pipeline/) │ │ │ │ │ │ │ │ 1. parseFrontMatter - Extract YAML │ │ │ │ 2. normalizeIndexFiles - README → _index │ │ │ │ 3. buildBaseFrontMatter - Add defaults │ │ │ │ 4. extractIndexTitle - H1 extraction │ │ │ │ 5. stripHeading - Remove H1 │ │ │ │ 6. rewriteRelativeLinks - Fix .md links │ │ │ │ 7. rewriteImageLinks - Fix image paths │ │ │ │ 8. generateFromKeywords - Create from @keywords │ │ │ │ 9. addRepositoryMetadata - Inject repo info │ │ │ │ 10. addEditLink - Generate editURL │ │ │ │ 11. serializeDocument - Output YAML &#43; content │ │ │ └──────────────────────────────────────────────────────────┘ │ └─────────────────────────────────┬───────────────────────────────────┘ │ ┌─────────────────────────────────▼────────────────────────────────┐ │ DOMAIN LAYER │ │ (internal/config, internal/state, internal/docs) │ │ │ │ ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────────────┐ │ │ │ Config │ │ State │ │ DocFile │ │ Repository │ │ │ │ │ │ │ │ │ │ │ │ │ │ - Hugo │ │ - Git │ │ - Path │ │ - URL │ │ │ │ - Build │ │ - Docs │ │ - Trans │ │ - Branch │ │ │ │ - Forge │ │ - Build │ │ forms │ │ - Auth │ │ │ └────┬─────┘ └────┬─────┘ └────┬─────┘ └────────┬─────────┘ │ └───────┼─────────────┼─────────────┼─────────────────┼────────────┘ │ │ │ │ └─────────────┴─────────────┴─────────────────┘ │ ┌─────────────────────▼───────────────────────────────────────────┐ │ INFRASTRUCTURE LAYER │ │ (internal/git, internal/forge, internal/workspace) │ │ │ │ ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌─────────────────┐ │ │ │ Git │ │ Forge │ │ Event │ │ Workspace │ │ │ │ Client │ │ Clients │ │ Store │ │ Manager │ │ │ │ │ │ │ │ │ │ │ │ │ │ - Clone │ │ - GitHub │ │ - Append │ │ - Create() │ │ │ │ - Update │ │ - GitLab │ │ - Query │ │ - Cleanup() │ │ │ │ - Auth │ │ - Forgejo│ │ │ │ │ │ │ └────┬─────┘ └────┬─────┘ └────┬─────┘ └────────┬────────┘ │ │ │ │ │ │ │ │ └─────────────┴─────────────┴─────────────────┘ │ │ │ │ │ ┌────────▼────────┐ │ │ │ Foundation │ │ │ │ Errors │ │ │ │ │ │ │ │ - ClassifiedErr │ │ │ │ - Categories │ │ │ │ - Retry Logic │ │ │ └─────────────────┘ │ └─────────────────────────────────────────────────────────────────┘ Pipeline Flow Sequential Stage Execution graph TD A[Build Request] --&gt; B[PrepareOutput Stage] B --&gt; C[CloneRepos Stage] C --&gt; D[DiscoverDocs Stage] D --&gt; E[GenerateConfig Stage] E --&gt; F[Layouts Stage] F --&gt; G[CopyContent Stage] G --&gt; H[Indexes Stage] H --&gt; I{Render Mode?} I --&gt;|always| J[RunHugo Stage] I --&gt;|auto| K{Has Hugo?} K --&gt;|yes| J K --&gt;|no| L[Skip Hugo] I --&gt;|never| L J --&gt; M[Build Complete] L --&gt; M M --&gt; N[Generate Report] N --&gt; O[Emit Events] O --&gt; P[Return Result] style B fill:#e1f5ff style C fill:#e1f5ff style D fill:#e1f5ff style E fill:#e1f5ff style F fill:#e1f5ff style G fill:#e1f5ff style H fill:#e1f5ff style J fill:#e1f5ff style M fill:#c8e6c9 style P fill:#c8e6c9 Stage Detail: CloneRepos CloneRepos Stage │ ├─ For each repository config: │ │ │ ├─ 1. Authenticate │ │ ├─ SSH Key │ │ ├─ Token │ │ └─ Basic Auth │ │ │ ├─ 2. Check Incremental │ │ ├─ Compare HEAD ref │ │ ├─ Check doc hash │ │ └─ Skip if unchanged │ │ │ ├─ 3. Clone or Update │ │ ├─ git clone (first time) │ │ └─ git pull (update) │ │ │ ├─ 4. Read HEAD │ │ └─ Store ref in state │ │ │ └─ 5. Emit Event │ ├─ RepositoryCloned │ └─ RepositoryUpdated │ └─ Update GitState Stage Detail: CopyContent CopyContent Stage │ ├─ For each DocFile: │ │ │ ├─ Fixed Transform Pipeline (11 sequential transforms) │ │ │ │ │ ├─ 1. Parse Front Matter │ │ │ ├─ Extract YAML header │ │ │ └─ Parse markdown content │ │ │ │ │ ├─ 2. Normalize Index Files │ │ │ └─ README.md → _index.md │ │ │ │ │ ├─ 3. Build Base Front Matter │ │ │ ├─ Add repository metadata │ │ │ ├─ Add section/path info │ │ │ ├─ Add forge info │ │ │ └─ Add date/timestamp │ │ │ │ │ ├─ 4. Extract Index Title │ │ │ ├─ Find first H1 heading │ │ │ └─ Set as page title │ │ │ │ │ ├─ 5. Strip Heading │ │ │ └─ Remove first H1 from content │ │ │ │ │ ├─ 6. Rewrite Relative Links │ │ │ ├─ Fix .md → / conversions │ │ │ └─ Resolve relative paths │ │ │ │ │ ├─ 7. Rewrite Image Links │ │ │ └─ Fix image path references │ │ │ │ │ ├─ 8. Generate from Keywords │ │ │ └─ Process @keywords directives │ │ │ │ │ ├─ 9. Add Repository Metadata │ │ │ └─ Inject repo context │ │ │ │ │ ├─ 10. Add Edit Link │ │ │ ├─ Check forge capabilities │ │ │ ├─ Build edit URL │ │ │ └─ Add to front matter │ │ │ │ │ └─ 11. Serialize Document │ │ ├─ Generate YAML │ │ └─ Combine with content │ │ │ └─ Write to content/ │ └─ Create target file │ └─ Update DocsState Package Dependencies Dependency Graph ┌──────────────────┐ │ cmd/docbuilder/ │ │ commands/ │ └────────┬─────────┘ │ ▼ ┌───────────────────┐ │ internal/build/ │ │ internal/daemon/ │ └────────┬──────────┘ │ ├────────────────────────────────┐ │ │ ▼ ▼ ┌──────────────┐ ┌──────────────┐ │ config/ │ │ state/ │ └──────┬───────┘ └──────┬───────┘ │ │ ├────────────────────────────────┤ │ │ ▼ ▼ ┌────────────────────────────────────────────────┐ │ Domain Layer │ │ ┌─────────┐ ┌──────────────┐ ┌───────────┐ │ │ │ docs/ │ │ hugo/ │ │ forge/ │ │ │ └────┬────┘ └──────┬───────┘ └─────┬─────┘ │ │ │ │ │ │ │ │ ┌────▼─────────┐ │ │ │ │ │ pipeline/ │ │ │ │ │ │ (transforms)│ │ │ │ │ └──────────────┘ │ │ └───────┼────────────────┼──────────────┼────────┘ │ │ │ └────────────────┴──────────────┘ │ ┌────────────────┴─────────────┐ │ │ ▼ ▼ ┌──────────────┐ ┌──────────────┐ │ git/ │ │ workspace/ │ └──────┬───────┘ └──────┬───────┘ │ │ └─────────────┬─────────────┘ │ ▼ ┌──────────────┐ │ foundation/ │ │ errors/ │ └──────────────┘ Import Rules Layer Dependencies (must respect):">
    <meta name="author" content="">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Architecture Diagrams :: Test">
    <meta name="twitter:description" content="This document provides visual representations of DocBuilder’s architecture using ASCII diagrams and Mermaid notation.
Last Updated: December 16, 2025 - Reflects ADR-003 fixed transform pipeline implementation.
This document provides visual representations of DocBuilder’s architecture using ASCII diagrams and Mermaid notation.
Table of Contents High-Level System Architecture Pipeline Flow Package Dependencies Data Flow Component Interactions State Machine Diagrams High-Level System Architecture Layer View ┌──────────────────────────────────────────────────────────────────┐ │ COMMAND LAYER │ │ (cmd/docbuilder/commands/) │ │ │ │ ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────────────┐ │ │ │ Build │ │ Daemon │ │ Preview │ │ Discover │ │ │ │ (Kong) │ │ (Watch) │ │ (Live) │ │ (Analysis) │ │ │ └────┬─────┘ └────┬─────┘ └────┬─────┘ └────────┬─────────┘ │ │ │ │ │ │ │ └───────┼─────────────┼─────────────┼─────────────────┼────────────┘ │ │ │ │ └─────────────┴─────────────┴─────────────────┘ │ ┌─────────────────────▼───────────────────────────────────────────┐ │ SERVICE LAYER │ │ (internal/build, internal/daemon) │ │ │ │ ┌────────────────┐ ┌─────────────────┐ ┌──────────────────┐ │ │ │ BuildService │ │ DaemonService │ │ DiscoveryService │ │ │ │ │ │ │ │ │ │ │ │ - Run() │ │ - Start() │ │ - Discover() │ │ │ │ - Validate() │ │ - Stop() │ │ - Report() │ │ │ └────────┬───────┘ └────────┬────────┘ └────────┬─────────┘ │ │ │ │ │ │ └───────────┼───────────────────┼────────────────────┼────────────┘ │ │ │ └───────────────────┴────────────────────┘ │ ┌───────────────────────────────▼─────────────────────────────────────┐ │ PROCESSING LAYER │ │ (internal/hugo, internal/docs, internal/hugo/pipeline) │ │ │ │ ┌──────────────────────────────────────────────────────────────┐ │ │ │ Hugo Generator │ │ │ │ │ │ │ │ ┌─────────────┐ ┌─────────────┐ ┌─────────────────────┐ │ │ │ │ │ Pipeline │ │ Theme │ │ Report Builder │ │ │ │ │ │ Processor │ │ System │ │ │ │ │ │ │ └──────┬──────┘ └──────┬──────┘ └──────────┬──────────┘ │ │ │ └─────────┼───────────────┼───────────────────┼────────────────┘ │ │ │ │ │ │ │ ┌─────────▼───────────────▼───────────────────▼──────────────┐ │ │ │ Fixed Transform Pipeline │ │ │ │ (internal/hugo/pipeline/) │ │ │ │ │ │ │ │ 1. parseFrontMatter - Extract YAML │ │ │ │ 2. normalizeIndexFiles - README → _index │ │ │ │ 3. buildBaseFrontMatter - Add defaults │ │ │ │ 4. extractIndexTitle - H1 extraction │ │ │ │ 5. stripHeading - Remove H1 │ │ │ │ 6. rewriteRelativeLinks - Fix .md links │ │ │ │ 7. rewriteImageLinks - Fix image paths │ │ │ │ 8. generateFromKeywords - Create from @keywords │ │ │ │ 9. addRepositoryMetadata - Inject repo info │ │ │ │ 10. addEditLink - Generate editURL │ │ │ │ 11. serializeDocument - Output YAML &#43; content │ │ │ └──────────────────────────────────────────────────────────┘ │ └─────────────────────────────────┬───────────────────────────────────┘ │ ┌─────────────────────────────────▼────────────────────────────────┐ │ DOMAIN LAYER │ │ (internal/config, internal/state, internal/docs) │ │ │ │ ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────────────┐ │ │ │ Config │ │ State │ │ DocFile │ │ Repository │ │ │ │ │ │ │ │ │ │ │ │ │ │ - Hugo │ │ - Git │ │ - Path │ │ - URL │ │ │ │ - Build │ │ - Docs │ │ - Trans │ │ - Branch │ │ │ │ - Forge │ │ - Build │ │ forms │ │ - Auth │ │ │ └────┬─────┘ └────┬─────┘ └────┬─────┘ └────────┬─────────┘ │ └───────┼─────────────┼─────────────┼─────────────────┼────────────┘ │ │ │ │ └─────────────┴─────────────┴─────────────────┘ │ ┌─────────────────────▼───────────────────────────────────────────┐ │ INFRASTRUCTURE LAYER │ │ (internal/git, internal/forge, internal/workspace) │ │ │ │ ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌─────────────────┐ │ │ │ Git │ │ Forge │ │ Event │ │ Workspace │ │ │ │ Client │ │ Clients │ │ Store │ │ Manager │ │ │ │ │ │ │ │ │ │ │ │ │ │ - Clone │ │ - GitHub │ │ - Append │ │ - Create() │ │ │ │ - Update │ │ - GitLab │ │ - Query │ │ - Cleanup() │ │ │ │ - Auth │ │ - Forgejo│ │ │ │ │ │ │ └────┬─────┘ └────┬─────┘ └────┬─────┘ └────────┬────────┘ │ │ │ │ │ │ │ │ └─────────────┴─────────────┴─────────────────┘ │ │ │ │ │ ┌────────▼────────┐ │ │ │ Foundation │ │ │ │ Errors │ │ │ │ │ │ │ │ - ClassifiedErr │ │ │ │ - Categories │ │ │ │ - Retry Logic │ │ │ └─────────────────┘ │ └─────────────────────────────────────────────────────────────────┘ Pipeline Flow Sequential Stage Execution graph TD A[Build Request] --&gt; B[PrepareOutput Stage] B --&gt; C[CloneRepos Stage] C --&gt; D[DiscoverDocs Stage] D --&gt; E[GenerateConfig Stage] E --&gt; F[Layouts Stage] F --&gt; G[CopyContent Stage] G --&gt; H[Indexes Stage] H --&gt; I{Render Mode?} I --&gt;|always| J[RunHugo Stage] I --&gt;|auto| K{Has Hugo?} K --&gt;|yes| J K --&gt;|no| L[Skip Hugo] I --&gt;|never| L J --&gt; M[Build Complete] L --&gt; M M --&gt; N[Generate Report] N --&gt; O[Emit Events] O --&gt; P[Return Result] style B fill:#e1f5ff style C fill:#e1f5ff style D fill:#e1f5ff style E fill:#e1f5ff style F fill:#e1f5ff style G fill:#e1f5ff style H fill:#e1f5ff style J fill:#e1f5ff style M fill:#c8e6c9 style P fill:#c8e6c9 Stage Detail: CloneRepos CloneRepos Stage │ ├─ For each repository config: │ │ │ ├─ 1. Authenticate │ │ ├─ SSH Key │ │ ├─ Token │ │ └─ Basic Auth │ │ │ ├─ 2. Check Incremental │ │ ├─ Compare HEAD ref │ │ ├─ Check doc hash │ │ └─ Skip if unchanged │ │ │ ├─ 3. Clone or Update │ │ ├─ git clone (first time) │ │ └─ git pull (update) │ │ │ ├─ 4. Read HEAD │ │ └─ Store ref in state │ │ │ └─ 5. Emit Event │ ├─ RepositoryCloned │ └─ RepositoryUpdated │ └─ Update GitState Stage Detail: CopyContent CopyContent Stage │ ├─ For each DocFile: │ │ │ ├─ Fixed Transform Pipeline (11 sequential transforms) │ │ │ │ │ ├─ 1. Parse Front Matter │ │ │ ├─ Extract YAML header │ │ │ └─ Parse markdown content │ │ │ │ │ ├─ 2. Normalize Index Files │ │ │ └─ README.md → _index.md │ │ │ │ │ ├─ 3. Build Base Front Matter │ │ │ ├─ Add repository metadata │ │ │ ├─ Add section/path info │ │ │ ├─ Add forge info │ │ │ └─ Add date/timestamp │ │ │ │ │ ├─ 4. Extract Index Title │ │ │ ├─ Find first H1 heading │ │ │ └─ Set as page title │ │ │ │ │ ├─ 5. Strip Heading │ │ │ └─ Remove first H1 from content │ │ │ │ │ ├─ 6. Rewrite Relative Links │ │ │ ├─ Fix .md → / conversions │ │ │ └─ Resolve relative paths │ │ │ │ │ ├─ 7. Rewrite Image Links │ │ │ └─ Fix image path references │ │ │ │ │ ├─ 8. Generate from Keywords │ │ │ └─ Process @keywords directives │ │ │ │ │ ├─ 9. Add Repository Metadata │ │ │ └─ Inject repo context │ │ │ │ │ ├─ 10. Add Edit Link │ │ │ ├─ Check forge capabilities │ │ │ ├─ Build edit URL │ │ │ └─ Add to front matter │ │ │ │ │ └─ 11. Serialize Document │ │ ├─ Generate YAML │ │ └─ Combine with content │ │ │ └─ Write to content/ │ └─ Create target file │ └─ Update DocsState Package Dependencies Dependency Graph ┌──────────────────┐ │ cmd/docbuilder/ │ │ commands/ │ └────────┬─────────┘ │ ▼ ┌───────────────────┐ │ internal/build/ │ │ internal/daemon/ │ └────────┬──────────┘ │ ├────────────────────────────────┐ │ │ ▼ ▼ ┌──────────────┐ ┌──────────────┐ │ config/ │ │ state/ │ └──────┬───────┘ └──────┬───────┘ │ │ ├────────────────────────────────┤ │ │ ▼ ▼ ┌────────────────────────────────────────────────┐ │ Domain Layer │ │ ┌─────────┐ ┌──────────────┐ ┌───────────┐ │ │ │ docs/ │ │ hugo/ │ │ forge/ │ │ │ └────┬────┘ └──────┬───────┘ └─────┬─────┘ │ │ │ │ │ │ │ │ ┌────▼─────────┐ │ │ │ │ │ pipeline/ │ │ │ │ │ │ (transforms)│ │ │ │ │ └──────────────┘ │ │ └───────┼────────────────┼──────────────┼────────┘ │ │ │ └────────────────┴──────────────┘ │ ┌────────────────┴─────────────┐ │ │ ▼ ▼ ┌──────────────┐ ┌──────────────┐ │ git/ │ │ workspace/ │ └──────┬───────┘ └──────┬───────┘ │ │ └─────────────┬─────────────┘ │ ▼ ┌──────────────┐ │ foundation/ │ │ errors/ │ └──────────────┘ Import Rules Layer Dependencies (must respect):">
    <meta property="og:url" content="http://test/docs/explanation/architecture-diagrams/index.html">
    <meta property="og:site_name" content="Test">
    <meta property="og:title" content="Architecture Diagrams :: Test">
    <meta property="og:description" content="This document provides visual representations of DocBuilder’s architecture using ASCII diagrams and Mermaid notation.
Last Updated: December 16, 2025 - Reflects ADR-003 fixed transform pipeline implementation.
This document provides visual representations of DocBuilder’s architecture using ASCII diagrams and Mermaid notation.
Table of Contents High-Level System Architecture Pipeline Flow Package Dependencies Data Flow Component Interactions State Machine Diagrams High-Level System Architecture Layer View ┌──────────────────────────────────────────────────────────────────┐ │ COMMAND LAYER │ │ (cmd/docbuilder/commands/) │ │ │ │ ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────────────┐ │ │ │ Build │ │ Daemon │ │ Preview │ │ Discover │ │ │ │ (Kong) │ │ (Watch) │ │ (Live) │ │ (Analysis) │ │ │ └────┬─────┘ └────┬─────┘ └────┬─────┘ └────────┬─────────┘ │ │ │ │ │ │ │ └───────┼─────────────┼─────────────┼─────────────────┼────────────┘ │ │ │ │ └─────────────┴─────────────┴─────────────────┘ │ ┌─────────────────────▼───────────────────────────────────────────┐ │ SERVICE LAYER │ │ (internal/build, internal/daemon) │ │ │ │ ┌────────────────┐ ┌─────────────────┐ ┌──────────────────┐ │ │ │ BuildService │ │ DaemonService │ │ DiscoveryService │ │ │ │ │ │ │ │ │ │ │ │ - Run() │ │ - Start() │ │ - Discover() │ │ │ │ - Validate() │ │ - Stop() │ │ - Report() │ │ │ └────────┬───────┘ └────────┬────────┘ └────────┬─────────┘ │ │ │ │ │ │ └───────────┼───────────────────┼────────────────────┼────────────┘ │ │ │ └───────────────────┴────────────────────┘ │ ┌───────────────────────────────▼─────────────────────────────────────┐ │ PROCESSING LAYER │ │ (internal/hugo, internal/docs, internal/hugo/pipeline) │ │ │ │ ┌──────────────────────────────────────────────────────────────┐ │ │ │ Hugo Generator │ │ │ │ │ │ │ │ ┌─────────────┐ ┌─────────────┐ ┌─────────────────────┐ │ │ │ │ │ Pipeline │ │ Theme │ │ Report Builder │ │ │ │ │ │ Processor │ │ System │ │ │ │ │ │ │ └──────┬──────┘ └──────┬──────┘ └──────────┬──────────┘ │ │ │ └─────────┼───────────────┼───────────────────┼────────────────┘ │ │ │ │ │ │ │ ┌─────────▼───────────────▼───────────────────▼──────────────┐ │ │ │ Fixed Transform Pipeline │ │ │ │ (internal/hugo/pipeline/) │ │ │ │ │ │ │ │ 1. parseFrontMatter - Extract YAML │ │ │ │ 2. normalizeIndexFiles - README → _index │ │ │ │ 3. buildBaseFrontMatter - Add defaults │ │ │ │ 4. extractIndexTitle - H1 extraction │ │ │ │ 5. stripHeading - Remove H1 │ │ │ │ 6. rewriteRelativeLinks - Fix .md links │ │ │ │ 7. rewriteImageLinks - Fix image paths │ │ │ │ 8. generateFromKeywords - Create from @keywords │ │ │ │ 9. addRepositoryMetadata - Inject repo info │ │ │ │ 10. addEditLink - Generate editURL │ │ │ │ 11. serializeDocument - Output YAML &#43; content │ │ │ └──────────────────────────────────────────────────────────┘ │ └─────────────────────────────────┬───────────────────────────────────┘ │ ┌─────────────────────────────────▼────────────────────────────────┐ │ DOMAIN LAYER │ │ (internal/config, internal/state, internal/docs) │ │ │ │ ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────────────┐ │ │ │ Config │ │ State │ │ DocFile │ │ Repository │ │ │ │ │ │ │ │ │ │ │ │ │ │ - Hugo │ │ - Git │ │ - Path │ │ - URL │ │ │ │ - Build │ │ - Docs │ │ - Trans │ │ - Branch │ │ │ │ - Forge │ │ - Build │ │ forms │ │ - Auth │ │ │ └────┬─────┘ └────┬─────┘ └────┬─────┘ └────────┬─────────┘ │ └───────┼─────────────┼─────────────┼─────────────────┼────────────┘ │ │ │ │ └─────────────┴─────────────┴─────────────────┘ │ ┌─────────────────────▼───────────────────────────────────────────┐ │ INFRASTRUCTURE LAYER │ │ (internal/git, internal/forge, internal/workspace) │ │ │ │ ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌─────────────────┐ │ │ │ Git │ │ Forge │ │ Event │ │ Workspace │ │ │ │ Client │ │ Clients │ │ Store │ │ Manager │ │ │ │ │ │ │ │ │ │ │ │ │ │ - Clone │ │ - GitHub │ │ - Append │ │ - Create() │ │ │ │ - Update │ │ - GitLab │ │ - Query │ │ - Cleanup() │ │ │ │ - Auth │ │ - Forgejo│ │ │ │ │ │ │ └────┬─────┘ └────┬─────┘ └────┬─────┘ └────────┬────────┘ │ │ │ │ │ │ │ │ └─────────────┴─────────────┴─────────────────┘ │ │ │ │ │ ┌────────▼────────┐ │ │ │ Foundation │ │ │ │ Errors │ │ │ │ │ │ │ │ - ClassifiedErr │ │ │ │ - Categories │ │ │ │ - Retry Logic │ │ │ └─────────────────┘ │ └─────────────────────────────────────────────────────────────────┘ Pipeline Flow Sequential Stage Execution graph TD A[Build Request] --&gt; B[PrepareOutput Stage] B --&gt; C[CloneRepos Stage] C --&gt; D[DiscoverDocs Stage] D --&gt; E[GenerateConfig Stage] E --&gt; F[Layouts Stage] F --&gt; G[CopyContent Stage] G --&gt; H[Indexes Stage] H --&gt; I{Render Mode?} I --&gt;|always| J[RunHugo Stage] I --&gt;|auto| K{Has Hugo?} K --&gt;|yes| J K --&gt;|no| L[Skip Hugo] I --&gt;|never| L J --&gt; M[Build Complete] L --&gt; M M --&gt; N[Generate Report] N --&gt; O[Emit Events] O --&gt; P[Return Result] style B fill:#e1f5ff style C fill:#e1f5ff style D fill:#e1f5ff style E fill:#e1f5ff style F fill:#e1f5ff style G fill:#e1f5ff style H fill:#e1f5ff style J fill:#e1f5ff style M fill:#c8e6c9 style P fill:#c8e6c9 Stage Detail: CloneRepos CloneRepos Stage │ ├─ For each repository config: │ │ │ ├─ 1. Authenticate │ │ ├─ SSH Key │ │ ├─ Token │ │ └─ Basic Auth │ │ │ ├─ 2. Check Incremental │ │ ├─ Compare HEAD ref │ │ ├─ Check doc hash │ │ └─ Skip if unchanged │ │ │ ├─ 3. Clone or Update │ │ ├─ git clone (first time) │ │ └─ git pull (update) │ │ │ ├─ 4. Read HEAD │ │ └─ Store ref in state │ │ │ └─ 5. Emit Event │ ├─ RepositoryCloned │ └─ RepositoryUpdated │ └─ Update GitState Stage Detail: CopyContent CopyContent Stage │ ├─ For each DocFile: │ │ │ ├─ Fixed Transform Pipeline (11 sequential transforms) │ │ │ │ │ ├─ 1. Parse Front Matter │ │ │ ├─ Extract YAML header │ │ │ └─ Parse markdown content │ │ │ │ │ ├─ 2. Normalize Index Files │ │ │ └─ README.md → _index.md │ │ │ │ │ ├─ 3. Build Base Front Matter │ │ │ ├─ Add repository metadata │ │ │ ├─ Add section/path info │ │ │ ├─ Add forge info │ │ │ └─ Add date/timestamp │ │ │ │ │ ├─ 4. Extract Index Title │ │ │ ├─ Find first H1 heading │ │ │ └─ Set as page title │ │ │ │ │ ├─ 5. Strip Heading │ │ │ └─ Remove first H1 from content │ │ │ │ │ ├─ 6. Rewrite Relative Links │ │ │ ├─ Fix .md → / conversions │ │ │ └─ Resolve relative paths │ │ │ │ │ ├─ 7. Rewrite Image Links │ │ │ └─ Fix image path references │ │ │ │ │ ├─ 8. Generate from Keywords │ │ │ └─ Process @keywords directives │ │ │ │ │ ├─ 9. Add Repository Metadata │ │ │ └─ Inject repo context │ │ │ │ │ ├─ 10. Add Edit Link │ │ │ ├─ Check forge capabilities │ │ │ ├─ Build edit URL │ │ │ └─ Add to front matter │ │ │ │ │ └─ 11. Serialize Document │ │ ├─ Generate YAML │ │ └─ Combine with content │ │ │ └─ Write to content/ │ └─ Create target file │ └─ Update DocsState Package Dependencies Dependency Graph ┌──────────────────┐ │ cmd/docbuilder/ │ │ commands/ │ └────────┬─────────┘ │ ▼ ┌───────────────────┐ │ internal/build/ │ │ internal/daemon/ │ └────────┬──────────┘ │ ├────────────────────────────────┐ │ │ ▼ ▼ ┌──────────────┐ ┌──────────────┐ │ config/ │ │ state/ │ └──────┬───────┘ └──────┬───────┘ │ │ ├────────────────────────────────┤ │ │ ▼ ▼ ┌────────────────────────────────────────────────┐ │ Domain Layer │ │ ┌─────────┐ ┌──────────────┐ ┌───────────┐ │ │ │ docs/ │ │ hugo/ │ │ forge/ │ │ │ └────┬────┘ └──────┬───────┘ └─────┬─────┘ │ │ │ │ │ │ │ │ ┌────▼─────────┐ │ │ │ │ │ pipeline/ │ │ │ │ │ │ (transforms)│ │ │ │ │ └──────────────┘ │ │ └───────┼────────────────┼──────────────┼────────┘ │ │ │ └────────────────┴──────────────┘ │ ┌────────────────┴─────────────┐ │ │ ▼ ▼ ┌──────────────┐ ┌──────────────┐ │ git/ │ │ workspace/ │ └──────┬───────┘ └──────┬───────┘ │ │ └─────────────┬─────────────┘ │ ▼ ┌──────────────┐ │ foundation/ │ │ errors/ │ └──────────────┘ Import Rules Layer Dependencies (must respect):">
    <meta property="og:locale" content="en">
    <meta property="og:type" content="article">
    <meta property="article:section" content="DocBuilder Documentation">
    <meta property="article:published_time" content="2025-12-15T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-12-15T00:00:00+00:00">
    <meta property="article:tag" content="Architecture">
    <meta property="article:tag" content="Diagrams">
    <meta property="article:tag" content="Visualization">
    <meta itemprop="name" content="Architecture Diagrams :: Test">
    <meta itemprop="description" content="This document provides visual representations of DocBuilder’s architecture using ASCII diagrams and Mermaid notation.
Last Updated: December 16, 2025 - Reflects ADR-003 fixed transform pipeline implementation.
This document provides visual representations of DocBuilder’s architecture using ASCII diagrams and Mermaid notation.
Table of Contents High-Level System Architecture Pipeline Flow Package Dependencies Data Flow Component Interactions State Machine Diagrams High-Level System Architecture Layer View ┌──────────────────────────────────────────────────────────────────┐ │ COMMAND LAYER │ │ (cmd/docbuilder/commands/) │ │ │ │ ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────────────┐ │ │ │ Build │ │ Daemon │ │ Preview │ │ Discover │ │ │ │ (Kong) │ │ (Watch) │ │ (Live) │ │ (Analysis) │ │ │ └────┬─────┘ └────┬─────┘ └────┬─────┘ └────────┬─────────┘ │ │ │ │ │ │ │ └───────┼─────────────┼─────────────┼─────────────────┼────────────┘ │ │ │ │ └─────────────┴─────────────┴─────────────────┘ │ ┌─────────────────────▼───────────────────────────────────────────┐ │ SERVICE LAYER │ │ (internal/build, internal/daemon) │ │ │ │ ┌────────────────┐ ┌─────────────────┐ ┌──────────────────┐ │ │ │ BuildService │ │ DaemonService │ │ DiscoveryService │ │ │ │ │ │ │ │ │ │ │ │ - Run() │ │ - Start() │ │ - Discover() │ │ │ │ - Validate() │ │ - Stop() │ │ - Report() │ │ │ └────────┬───────┘ └────────┬────────┘ └────────┬─────────┘ │ │ │ │ │ │ └───────────┼───────────────────┼────────────────────┼────────────┘ │ │ │ └───────────────────┴────────────────────┘ │ ┌───────────────────────────────▼─────────────────────────────────────┐ │ PROCESSING LAYER │ │ (internal/hugo, internal/docs, internal/hugo/pipeline) │ │ │ │ ┌──────────────────────────────────────────────────────────────┐ │ │ │ Hugo Generator │ │ │ │ │ │ │ │ ┌─────────────┐ ┌─────────────┐ ┌─────────────────────┐ │ │ │ │ │ Pipeline │ │ Theme │ │ Report Builder │ │ │ │ │ │ Processor │ │ System │ │ │ │ │ │ │ └──────┬──────┘ └──────┬──────┘ └──────────┬──────────┘ │ │ │ └─────────┼───────────────┼───────────────────┼────────────────┘ │ │ │ │ │ │ │ ┌─────────▼───────────────▼───────────────────▼──────────────┐ │ │ │ Fixed Transform Pipeline │ │ │ │ (internal/hugo/pipeline/) │ │ │ │ │ │ │ │ 1. parseFrontMatter - Extract YAML │ │ │ │ 2. normalizeIndexFiles - README → _index │ │ │ │ 3. buildBaseFrontMatter - Add defaults │ │ │ │ 4. extractIndexTitle - H1 extraction │ │ │ │ 5. stripHeading - Remove H1 │ │ │ │ 6. rewriteRelativeLinks - Fix .md links │ │ │ │ 7. rewriteImageLinks - Fix image paths │ │ │ │ 8. generateFromKeywords - Create from @keywords │ │ │ │ 9. addRepositoryMetadata - Inject repo info │ │ │ │ 10. addEditLink - Generate editURL │ │ │ │ 11. serializeDocument - Output YAML &#43; content │ │ │ └──────────────────────────────────────────────────────────┘ │ └─────────────────────────────────┬───────────────────────────────────┘ │ ┌─────────────────────────────────▼────────────────────────────────┐ │ DOMAIN LAYER │ │ (internal/config, internal/state, internal/docs) │ │ │ │ ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────────────┐ │ │ │ Config │ │ State │ │ DocFile │ │ Repository │ │ │ │ │ │ │ │ │ │ │ │ │ │ - Hugo │ │ - Git │ │ - Path │ │ - URL │ │ │ │ - Build │ │ - Docs │ │ - Trans │ │ - Branch │ │ │ │ - Forge │ │ - Build │ │ forms │ │ - Auth │ │ │ └────┬─────┘ └────┬─────┘ └────┬─────┘ └────────┬─────────┘ │ └───────┼─────────────┼─────────────┼─────────────────┼────────────┘ │ │ │ │ └─────────────┴─────────────┴─────────────────┘ │ ┌─────────────────────▼───────────────────────────────────────────┐ │ INFRASTRUCTURE LAYER │ │ (internal/git, internal/forge, internal/workspace) │ │ │ │ ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌─────────────────┐ │ │ │ Git │ │ Forge │ │ Event │ │ Workspace │ │ │ │ Client │ │ Clients │ │ Store │ │ Manager │ │ │ │ │ │ │ │ │ │ │ │ │ │ - Clone │ │ - GitHub │ │ - Append │ │ - Create() │ │ │ │ - Update │ │ - GitLab │ │ - Query │ │ - Cleanup() │ │ │ │ - Auth │ │ - Forgejo│ │ │ │ │ │ │ └────┬─────┘ └────┬─────┘ └────┬─────┘ └────────┬────────┘ │ │ │ │ │ │ │ │ └─────────────┴─────────────┴─────────────────┘ │ │ │ │ │ ┌────────▼────────┐ │ │ │ Foundation │ │ │ │ Errors │ │ │ │ │ │ │ │ - ClassifiedErr │ │ │ │ - Categories │ │ │ │ - Retry Logic │ │ │ └─────────────────┘ │ └─────────────────────────────────────────────────────────────────┘ Pipeline Flow Sequential Stage Execution graph TD A[Build Request] --&gt; B[PrepareOutput Stage] B --&gt; C[CloneRepos Stage] C --&gt; D[DiscoverDocs Stage] D --&gt; E[GenerateConfig Stage] E --&gt; F[Layouts Stage] F --&gt; G[CopyContent Stage] G --&gt; H[Indexes Stage] H --&gt; I{Render Mode?} I --&gt;|always| J[RunHugo Stage] I --&gt;|auto| K{Has Hugo?} K --&gt;|yes| J K --&gt;|no| L[Skip Hugo] I --&gt;|never| L J --&gt; M[Build Complete] L --&gt; M M --&gt; N[Generate Report] N --&gt; O[Emit Events] O --&gt; P[Return Result] style B fill:#e1f5ff style C fill:#e1f5ff style D fill:#e1f5ff style E fill:#e1f5ff style F fill:#e1f5ff style G fill:#e1f5ff style H fill:#e1f5ff style J fill:#e1f5ff style M fill:#c8e6c9 style P fill:#c8e6c9 Stage Detail: CloneRepos CloneRepos Stage │ ├─ For each repository config: │ │ │ ├─ 1. Authenticate │ │ ├─ SSH Key │ │ ├─ Token │ │ └─ Basic Auth │ │ │ ├─ 2. Check Incremental │ │ ├─ Compare HEAD ref │ │ ├─ Check doc hash │ │ └─ Skip if unchanged │ │ │ ├─ 3. Clone or Update │ │ ├─ git clone (first time) │ │ └─ git pull (update) │ │ │ ├─ 4. Read HEAD │ │ └─ Store ref in state │ │ │ └─ 5. Emit Event │ ├─ RepositoryCloned │ └─ RepositoryUpdated │ └─ Update GitState Stage Detail: CopyContent CopyContent Stage │ ├─ For each DocFile: │ │ │ ├─ Fixed Transform Pipeline (11 sequential transforms) │ │ │ │ │ ├─ 1. Parse Front Matter │ │ │ ├─ Extract YAML header │ │ │ └─ Parse markdown content │ │ │ │ │ ├─ 2. Normalize Index Files │ │ │ └─ README.md → _index.md │ │ │ │ │ ├─ 3. Build Base Front Matter │ │ │ ├─ Add repository metadata │ │ │ ├─ Add section/path info │ │ │ ├─ Add forge info │ │ │ └─ Add date/timestamp │ │ │ │ │ ├─ 4. Extract Index Title │ │ │ ├─ Find first H1 heading │ │ │ └─ Set as page title │ │ │ │ │ ├─ 5. Strip Heading │ │ │ └─ Remove first H1 from content │ │ │ │ │ ├─ 6. Rewrite Relative Links │ │ │ ├─ Fix .md → / conversions │ │ │ └─ Resolve relative paths │ │ │ │ │ ├─ 7. Rewrite Image Links │ │ │ └─ Fix image path references │ │ │ │ │ ├─ 8. Generate from Keywords │ │ │ └─ Process @keywords directives │ │ │ │ │ ├─ 9. Add Repository Metadata │ │ │ └─ Inject repo context │ │ │ │ │ ├─ 10. Add Edit Link │ │ │ ├─ Check forge capabilities │ │ │ ├─ Build edit URL │ │ │ └─ Add to front matter │ │ │ │ │ └─ 11. Serialize Document │ │ ├─ Generate YAML │ │ └─ Combine with content │ │ │ └─ Write to content/ │ └─ Create target file │ └─ Update DocsState Package Dependencies Dependency Graph ┌──────────────────┐ │ cmd/docbuilder/ │ │ commands/ │ └────────┬─────────┘ │ ▼ ┌───────────────────┐ │ internal/build/ │ │ internal/daemon/ │ └────────┬──────────┘ │ ├────────────────────────────────┐ │ │ ▼ ▼ ┌──────────────┐ ┌──────────────┐ │ config/ │ │ state/ │ └──────┬───────┘ └──────┬───────┘ │ │ ├────────────────────────────────┤ │ │ ▼ ▼ ┌────────────────────────────────────────────────┐ │ Domain Layer │ │ ┌─────────┐ ┌──────────────┐ ┌───────────┐ │ │ │ docs/ │ │ hugo/ │ │ forge/ │ │ │ └────┬────┘ └──────┬───────┘ └─────┬─────┘ │ │ │ │ │ │ │ │ ┌────▼─────────┐ │ │ │ │ │ pipeline/ │ │ │ │ │ │ (transforms)│ │ │ │ │ └──────────────┘ │ │ └───────┼────────────────┼──────────────┼────────┘ │ │ │ └────────────────┴──────────────┘ │ ┌────────────────┴─────────────┐ │ │ ▼ ▼ ┌──────────────┐ ┌──────────────┐ │ git/ │ │ workspace/ │ └──────┬───────┘ └──────┬───────┘ │ │ └─────────────┬─────────────┘ │ ▼ ┌──────────────┐ │ foundation/ │ │ errors/ │ └──────────────┘ Import Rules Layer Dependencies (must respect):">
    <meta itemprop="datePublished" content="2025-12-15T00:00:00+00:00">
    <meta itemprop="dateModified" content="2025-12-15T00:00:00+00:00">
    <meta itemprop="wordCount" content="2400">
    <meta itemprop="keywords" content="Architecture,Diagrams,Visualization">
    <title>Architecture Diagrams :: Test</title>
    <link href="/css/auto-complete/auto-complete.min.css?1767195092" rel="stylesheet">
    <script src="/js/auto-complete/auto-complete.min.js?1767195092" defer></script>
    <script src="/js/search-lunr.min.js?1767195092" defer></script>
    <script src="/js/search.min.js?1767195092" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.index_js_url="/searchindex.en.js?1767195092";
    </script>
    <script src="/js/lunr/lunr.min.js?1767195092" defer></script>
    <script src="/js/lunr/lunr.stemmer.support.min.js?1767195092" defer></script>
    <script src="/js/lunr/lunr.multi.min.js?1767195092" defer></script>
    <script src="/js/lunr/lunr.en.min.js?1767195092" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.contentLangs=['en'];
    </script>
    <link href="/fonts/fontawesome/css/all.min.css?1767195092" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/fonts/fontawesome/css/all.min.css?1767195092" rel="stylesheet"></noscript>
    <link href="/css/perfect-scrollbar/perfect-scrollbar.min.css?1767195092" rel="stylesheet">
    <link href="/css/theme.min.css?1767195092" rel="stylesheet">
    <link href="/css/format-html.min.css?1767195092" rel="stylesheet" id="R-format-style">
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = `.min`;
      window.relearn.path='\/docs\/explanation\/architecture-diagrams\/index.html';
      window.relearn.relBasePath='..\/..\/..';
      window.relearn.relBaseUri='..\/..\/..';
      window.relearn.absBaseUri='http:\/\/test';
      window.relearn.disableInlineCopyToClipboard=false;
      window.relearn.enableBlockCodeWrap=true;
      // translations
      window.T_Copy_to_clipboard = `Copy text to clipboard`;
      window.T_Copied_to_clipboard = `Text copied to clipboard!`;
      window.T_Link_copied_to_clipboard = `Link copied to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
      window.T_Browser_unsupported_feature = `This browser doesn't support this feature`;
      // variant stuff
      window.relearn.themevariants = [ 'auto', 'zen-light', 'zen-dark' ];
      window.relearn.customvariantprefix = "my-custom-";
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.localStorage.setItem(window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.localStorage.getItem(window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.localStorage.getItem(window.relearn.absBaseUri + "/variant") ?? "";
        if( !variant ||
            (!variant.startsWith(window.relearn.customvariantprefix) && !window.relearn.themevariants.includes(variant)) ||
            (variant.startsWith(window.relearn.customvariantprefix) && !window.localStorage.getItem(window.relearn.absBaseUri + "/variantstylesheet-" + variant)) ){
          variant = window.relearn.themevariants[0];
          window.localStorage.setItem(window.relearn.absBaseUri + "/variant", variant);
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
    </script>
  </head>
  <body class="mobile-support html" data-origin="/docs/explanation/architecture-diagrams/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar" class="default-animation">
        <div class="topbar-wrapper default-animation">
          <div class="topbar-sidebar-divider default-animation"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar default-animation" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide">
<span class="btn cstyle button link noborder notitle interactive"><button onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button></span>
            </div>
            <div class="topbar-button topbar-button-toc default-animation" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><button onclick="toggleTopbarFlyout(this)" type="button" title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-table-list"></i></button></span>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
<nav class="TableOfContents">
  <ul>
    <li><a href="#table-of-contents">Table of Contents</a></li>
    <li><a href="#high-level-system-architecture">High-Level System Architecture</a>
      <ul>
        <li><a href="#layer-view">Layer View</a></li>
      </ul>
    </li>
    <li><a href="#pipeline-flow">Pipeline Flow</a>
      <ul>
        <li><a href="#sequential-stage-execution">Sequential Stage Execution</a></li>
        <li><a href="#stage-detail-clonerepos">Stage Detail: CloneRepos</a></li>
        <li><a href="#stage-detail-copycontent">Stage Detail: CopyContent</a></li>
      </ul>
    </li>
    <li><a href="#package-dependencies">Package Dependencies</a>
      <ul>
        <li><a href="#dependency-graph">Dependency Graph</a></li>
        <li><a href="#import-rules">Import Rules</a></li>
      </ul>
    </li>
    <li><a href="#data-flow">Data Flow</a>
      <ul>
        <li><a href="#configuration-loading">Configuration Loading</a></li>
        <li><a href="#build-execution">Build Execution</a></li>
        <li><a href="#state-persistence">State Persistence</a></li>
      </ul>
    </li>
    <li><a href="#component-interactions">Component Interactions</a>
      <ul>
        <li><a href="#relearn-theme-configuration">Relearn Theme Configuration</a></li>
        <li><a href="#forge-integration">Forge Integration</a></li>
        <li><a href="#change-detection">Change Detection</a></li>
      </ul>
    </li>
    <li><a href="#state-machine-diagrams">State Machine Diagrams</a>
      <ul>
        <li><a href="#build-state-machine">Build State Machine</a></li>
        <li><a href="#repository-state">Repository State</a></li>
        <li><a href="#theme-configuration-loading">Theme Configuration Loading</a></li>
      </ul>
    </li>
    <li><a href="#deployment-architecture">Deployment Architecture</a>
      <ul>
        <li><a href="#single-instance">Single Instance</a></li>
        <li><a href="#high-availability">High Availability</a></li>
      </ul>
    </li>
    <li><a href="#references">References</a></li>
  </ul>
</nav>
                </div>
              </div>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/index.html"><span itemprop="name">Test</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/docs/index.html"><span itemprop="name">DocBuilder Documentation</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/docs/explanation/index.html"><span itemprop="name">Explanation Documentation</span></a><meta itemprop="position" content="3">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><span itemprop="name">Architecture Diagrams</span><meta itemprop="position" content="4"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-edit default-animation" data-content-empty="disable" data-width-s="area-more" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><a href="./docs/_edit/main/./explanation/architecture-diagrams.md" title="Edit (CTRL+ALT+w)"><i class="fa-fw fas fa-pen"></i></a></span>
            </div>
            <div class="topbar-button topbar-button-prev default-animation" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><a href="/docs/explanation/webhook-documentation-isolation/index.html" title="Webhook and Documentation Isolation Strategy (🡐)"><i class="fa-fw fas fa-chevron-left"></i></a></span>
            </div>
            <div class="topbar-button topbar-button-next default-animation" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><a href="/docs/explanation/architecture/index.html" title="Architecture Overview (🡒)"><i class="fa-fw fas fa-chevron-right"></i></a></span>
            </div>
            <div class="topbar-button topbar-button-more default-animation" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><button onclick="toggleTopbarFlyout(this)" type="button" title="More"><i class="fa-fw fas fa-ellipsis-v"></i></button></span>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
                  <div class="topbar-area topbar-area-more" data-area="more">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable docs" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="/tags/architecture/index.html">Architecture</a></li>
    <li><a class="term-link" href="/tags/diagrams/index.html">Diagrams</a></li>
    <li><a class="term-link" href="/tags/visualization/index.html">Visualization</a></li>
  </ul>
</div>
  </header>

<h1 id="architecture-diagrams">Architecture Diagrams</h1>

<p>This document provides visual representations of DocBuilder&rsquo;s architecture using ASCII diagrams and Mermaid notation.</p>
<p><strong>Last Updated:</strong> December 16, 2025 - Reflects ADR-003 fixed transform pipeline implementation.</p>
<p>This document provides visual representations of DocBuilder&rsquo;s architecture using ASCII diagrams and Mermaid notation.</p>
<h2 id="table-of-contents">Table of Contents<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<ol>
<li><a href="/docs/explanation/architecture-diagrams/index.html#high-level-system-architecture">High-Level System Architecture</a></li>
<li><a href="/docs/explanation/architecture-diagrams/index.html#pipeline-flow">Pipeline Flow</a></li>
<li><a href="/docs/explanation/architecture-diagrams/index.html#package-dependencies">Package Dependencies</a></li>
<li><a href="/docs/explanation/architecture-diagrams/index.html#data-flow">Data Flow</a></li>
<li><a href="/docs/explanation/architecture-diagrams/index.html#component-interactions">Component Interactions</a></li>
<li><a href="/docs/explanation/architecture-diagrams/index.html#state-machine-diagrams">State Machine Diagrams</a></li>
</ol>
<hr>
<h2 id="high-level-system-architecture">High-Level System Architecture<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<h3 id="layer-view">Layer View<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0"><code>┌──────────────────────────────────────────────────────────────────┐
│                      COMMAND LAYER                               │
│              (cmd/docbuilder/commands/)                          │
│                                                                  │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────────────┐  │
│  │  Build   │  │  Daemon  │  │  Preview │  │     Discover     │  │
│  │  (Kong)  │  │ (Watch)  │  │  (Live)  │  │   (Analysis)     │  │
│  └────┬─────┘  └────┬─────┘  └────┬─────┘  └────────┬─────────┘  │
│       │             │             │                 │            │
└───────┼─────────────┼─────────────┼─────────────────┼────────────┘
        │             │             │                 │
        └─────────────┴─────────────┴─────────────────┘
                      │
┌─────────────────────▼───────────────────────────────────────────┐
│                    SERVICE LAYER                                │
│             (internal/build, internal/daemon)                   │
│                                                                 │
│  ┌────────────────┐  ┌─────────────────┐  ┌──────────────────┐  │
│  │ BuildService   │  │ DaemonService   │  │ DiscoveryService │  │
│  │                │  │                 │  │                  │  │
│  │ - Run()        │  │ - Start()       │  │ - Discover()     │  │
│  │ - Validate()   │  │ - Stop()        │  │ - Report()       │  │
│  └────────┬───────┘  └────────┬────────┘  └────────┬─────────┘  │
│           │                   │                    │            │
└───────────┼───────────────────┼────────────────────┼────────────┘
            │                   │                    │
            └───────────────────┴────────────────────┘
                                │
┌───────────────────────────────▼─────────────────────────────────────┐
│                        PROCESSING LAYER                             │
│  (internal/hugo, internal/docs, internal/hugo/pipeline)             │
│                                                                     │
│  ┌──────────────────────────────────────────────────────────────┐   │
│  │                   Hugo Generator                             │   │
│  │                                                              │   │
│  │  ┌─────────────┐ ┌─────────────┐ ┌─────────────────────┐     │   │
│  │  │  Pipeline   │ │   Theme     │ │   Report Builder    │     │   │
│  │  │  Processor  │ │   System    │ │                     │     │   │
│  │  └──────┬──────┘ └──────┬──────┘ └──────────┬──────────┘     │   │
│  └─────────┼───────────────┼───────────────────┼────────────────┘   │
│            │               │                   │                    │
│  ┌─────────▼───────────────▼───────────────────▼──────────────┐     │
│  │              Fixed Transform Pipeline                     │     │
│  │         (internal/hugo/pipeline/)                         │     │
│  │                                                          │     │
│  │  1. parseFrontMatter    - Extract YAML                   │     │
│  │  2. normalizeIndexFiles - README → _index                │     │
│  │  3. buildBaseFrontMatter - Add defaults                  │     │
│  │  4. extractIndexTitle   - H1 extraction                  │     │
│  │  5. stripHeading        - Remove H1                      │     │
│  │  6. rewriteRelativeLinks - Fix .md links                 │     │
│  │  7. rewriteImageLinks   - Fix image paths                │     │
│  │  8. generateFromKeywords - Create from @keywords         │     │
│  │  9. addRepositoryMetadata - Inject repo info             │     │
│  │  10. addEditLink        - Generate editURL               │     │
│  │  11. serializeDocument  - Output YAML + content          │     │
│  └──────────────────────────────────────────────────────────┘     │
└─────────────────────────────────┬───────────────────────────────────┘
                                  │
┌─────────────────────────────────▼────────────────────────────────┐
│                          DOMAIN LAYER                            │
│  (internal/config, internal/state, internal/docs)                │
│                                                                  │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────────────┐  │
│  │  Config  │  │  State   │  │ DocFile  │  │  Repository      │  │
│  │          │  │          │  │          │  │                  │  │
│  │ - Hugo   │  │ - Git    │  │ - Path   │  │ - URL            │  │
│  │ - Build  │  │ - Docs   │  │ - Trans  │  │ - Branch         │  │
│  │ - Forge  │  │ - Build  │  │   forms  │  │ - Auth           │  │
│  └────┬─────┘  └────┬─────┘  └────┬─────┘  └────────┬─────────┘  │
└───────┼─────────────┼─────────────┼─────────────────┼────────────┘
        │             │             │                 │
        └─────────────┴─────────────┴─────────────────┘
                      │
┌─────────────────────▼───────────────────────────────────────────┐
│                    INFRASTRUCTURE LAYER                         │
│  (internal/git, internal/forge, internal/workspace)             │
│                                                                 │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌─────────────────┐  │
│  │   Git    │  │  Forge   │  │ Event    │  │  Workspace      │  │
│  │  Client  │  │ Clients  │  │ Store    │  │  Manager        │  │
│  │          │  │          │  │          │  │                 │  │
│  │ - Clone  │  │ - GitHub │  │ - Append │  │ - Create()      │  │
│  │ - Update │  │ - GitLab │  │ - Query  │  │ - Cleanup()     │  │
│  │ - Auth   │  │ - Forgejo│  │          │  │                 │  │
│  └────┬─────┘  └────┬─────┘  └────┬─────┘  └────────┬────────┘  │
│       │             │             │                 │           │
│       └─────────────┴─────────────┴─────────────────┘           │
│                             │                                   │
│                    ┌────────▼────────┐                          │
│                    │   Foundation    │                          │
│                    │     Errors      │                          │
│                    │                 │                          │
│                    │ - ClassifiedErr │                          │
│                    │ - Categories    │                          │
│                    │ - Retry Logic   │                          │
│                    └─────────────────┘                          │
└─────────────────────────────────────────────────────────────────┘</code></pre></div>
<hr>
<h2 id="pipeline-flow">Pipeline Flow<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<h3 id="sequential-stage-execution">Sequential Stage Execution<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<pre class="mermaid actionbar-wrapper align-center ">graph TD
    A[Build Request] --&gt; B[PrepareOutput Stage]
    B --&gt; C[CloneRepos Stage]
    C --&gt; D[DiscoverDocs Stage]
    D --&gt; E[GenerateConfig Stage]
    E --&gt; F[Layouts Stage]
    F --&gt; G[CopyContent Stage]
    G --&gt; H[Indexes Stage]
    H --&gt; I{Render Mode?}
    I --&gt;|always| J[RunHugo Stage]
    I --&gt;|auto| K{Has Hugo?}
    K --&gt;|yes| J
    K --&gt;|no| L[Skip Hugo]
    I --&gt;|never| L
    J --&gt; M[Build Complete]
    L --&gt; M
    M --&gt; N[Generate Report]
    N --&gt; O[Emit Events]
    O --&gt; P[Return Result]
    
    style B fill:#e1f5ff
    style C fill:#e1f5ff
    style D fill:#e1f5ff
    style E fill:#e1f5ff
    style F fill:#e1f5ff
    style G fill:#e1f5ff
    style H fill:#e1f5ff
    style J fill:#e1f5ff
    style M fill:#c8e6c9
    style P fill:#c8e6c9</pre>
<h3 id="stage-detail-clonerepos">Stage Detail: CloneRepos<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0"><code>CloneRepos Stage
    │
    ├─ For each repository config:
    │   │
    │   ├─ 1. Authenticate
    │   │   ├─ SSH Key
    │   │   ├─ Token
    │   │   └─ Basic Auth
    │   │
    │   ├─ 2. Check Incremental
    │   │   ├─ Compare HEAD ref
    │   │   ├─ Check doc hash
    │   │   └─ Skip if unchanged
    │   │
    │   ├─ 3. Clone or Update
    │   │   ├─ git clone (first time)
    │   │   └─ git pull (update)
    │   │
    │   ├─ 4. Read HEAD
    │   │   └─ Store ref in state
    │   │
    │   └─ 5. Emit Event
    │       ├─ RepositoryCloned
    │       └─ RepositoryUpdated
    │
    └─ Update GitState</code></pre></div>
<h3 id="stage-detail-copycontent">Stage Detail: CopyContent<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0"><code>CopyContent Stage
    │
    ├─ For each DocFile:
    │   │
    │   ├─ Fixed Transform Pipeline (11 sequential transforms)
    │   │   │
    │   │   ├─ 1. Parse Front Matter
    │   │   │   ├─ Extract YAML header
    │   │   │   └─ Parse markdown content
    │   │   │
    │   │   ├─ 2. Normalize Index Files
    │   │   │   └─ README.md → _index.md
    │   │   │
    │   │   ├─ 3. Build Base Front Matter
    │   │   │   ├─ Add repository metadata
    │   │   │   ├─ Add section/path info
    │   │   │   ├─ Add forge info
    │   │   │   └─ Add date/timestamp
    │   │   │
    │   │   ├─ 4. Extract Index Title
    │   │   │   ├─ Find first H1 heading
    │   │   │   └─ Set as page title
    │   │   │
    │   │   ├─ 5. Strip Heading
    │   │   │   └─ Remove first H1 from content
    │   │   │
    │   │   ├─ 6. Rewrite Relative Links
    │   │   │   ├─ Fix .md → / conversions
    │   │   │   └─ Resolve relative paths
    │   │   │
    │   │   ├─ 7. Rewrite Image Links
    │   │   │   └─ Fix image path references
    │   │   │
    │   │   ├─ 8. Generate from Keywords
    │   │   │   └─ Process @keywords directives
    │   │   │
    │   │   ├─ 9. Add Repository Metadata
    │   │   │   └─ Inject repo context
    │   │   │
    │   │   ├─ 10. Add Edit Link
    │   │   │   ├─ Check forge capabilities
    │   │   │   ├─ Build edit URL
    │   │   │   └─ Add to front matter
    │   │   │
    │   │   └─ 11. Serialize Document
    │   │       ├─ Generate YAML
    │   │       └─ Combine with content
    │   │
    │   └─ Write to content/
    │       └─ Create target file
    │
    └─ Update DocsState</code></pre></div>
<hr>
<h2 id="package-dependencies">Package Dependencies<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<h3 id="dependency-graph">Dependency Graph<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0"><code>┌──────────────────┐
│ cmd/docbuilder/  │
│   commands/      │
└────────┬─────────┘
         │
         ▼
┌───────────────────┐
│ internal/build/   │
│ internal/daemon/  │
└────────┬──────────┘
         │
         ├────────────────────────────────┐
         │                                │
         ▼                                ▼
┌──────────────┐                 ┌──────────────┐
│    config/   │                 │    state/    │
└──────┬───────┘                 └──────┬───────┘
       │                                │
       ├────────────────────────────────┤
       │                                │
       ▼                                ▼
┌────────────────────────────────────────────────┐
│              Domain Layer                      │
│  ┌─────────┐  ┌──────────────┐  ┌───────────┐  │
│  │  docs/  │  │    hugo/     │  │   forge/  │  │
│  └────┬────┘  └──────┬───────┘  └─────┬─────┘  │
│       │              │                │        │
│       │         ┌────▼─────────┐      │        │
│       │         │  pipeline/   │      │        │
│       │         │  (transforms)│      │        │
│       │         └──────────────┘      │        │
└───────┼────────────────┼──────────────┼────────┘
        │                │              │
        └────────────────┴──────────────┘
                         │
        ┌────────────────┴─────────────┐
        │                              │
        ▼                              ▼
┌──────────────┐            ┌──────────────┐
│     git/     │            │  workspace/  │
└──────┬───────┘            └──────┬───────┘
       │                           │
       └─────────────┬─────────────┘
                     │
                     ▼
             ┌──────────────┐
             │ foundation/  │
             │   errors/    │
             └──────────────┘</code></pre></div>
<h3 id="import-rules">Import Rules<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p><strong>Layer Dependencies (must respect):</strong></p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0"><code>commands  →  services  →  domain  →  infrastructure
   ✓            ✓          ✓            ✓
   ✗            ✗          ✗            ✓</code></pre></div>
<p><strong>Package Rules:</strong></p>
<ul>
<li>✅ <code>cmd/docbuilder/commands/</code> can import <code>internal/build/</code>, <code>internal/daemon/</code></li>
<li>✅ <code>internal/build/</code> can import <code>internal/hugo/</code>, <code>internal/docs/</code>, <code>internal/git/</code></li>
<li>✅ <code>internal/hugo/</code> can import <code>internal/hugo/pipeline/</code></li>
<li>✅ <code>internal/hugo/pipeline/</code> contains transform implementations</li>
<li>✅ <code>internal/docs/</code> can import <code>internal/config/</code></li>
<li>✅ All packages can import <code>internal/foundation/</code></li>
<li>❌ <code>internal/config/</code> cannot import <code>internal/build/</code></li>
<li>❌ <code>internal/git/</code> cannot import <code>internal/build/</code></li>
<li>❌ <code>internal/foundation/</code> cannot import application packages</li>
</ul>
<hr>
<h2 id="data-flow">Data Flow<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<h3 id="configuration-loading">Configuration Loading<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<pre class="mermaid actionbar-wrapper align-center ">sequenceDiagram
    participant User
    participant CLI
    participant Config
    participant ENV
    participant Validator
    participant TypedConfig

    User-&gt;&gt;CLI: docbuilder build -c config.yaml
    CLI-&gt;&gt;Config: Load(configPath)
    Config-&gt;&gt;ENV: Read .env files
    ENV--&gt;&gt;Config: Environment variables
    Config-&gt;&gt;Config: Parse YAML
    Config-&gt;&gt;Config: Expand ${VAR} references
    Config-&gt;&gt;Config: Apply defaults
    Config-&gt;&gt;Validator: ValidateConfig()
    Validator-&gt;&gt;TypedConfig: HugoConfig.Validate()
    TypedConfig--&gt;&gt;Validator: ValidationResult
    Validator-&gt;&gt;TypedConfig: DaemonConfig.Validate()
    TypedConfig--&gt;&gt;Validator: ValidationResult
    Validator--&gt;&gt;Config: Validation complete
    Config--&gt;&gt;CLI: Validated Config
    CLI-&gt;&gt;CLI: Start build</pre>
<h3 id="build-execution">Build Execution<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<pre class="mermaid actionbar-wrapper align-center ">sequenceDiagram
    participant CLI
    participant BuildService
    participant Pipeline
    participant Git
    participant Docs
    participant Hugo
    participant EventStore

    CLI-&gt;&gt;BuildService: Build(config)
    BuildService-&gt;&gt;Pipeline: Run(stages)
    Pipeline-&gt;&gt;EventStore: Emit BuildStarted
    Pipeline-&gt;&gt;Git: CloneRepos()
    Git-&gt;&gt;Git: Authenticate
    Git-&gt;&gt;Git: Clone/Update
    Git--&gt;&gt;Pipeline: Repository ready
    Pipeline-&gt;&gt;EventStore: Emit RepositoryCloned
    Pipeline-&gt;&gt;Docs: DiscoverDocs()
    Docs-&gt;&gt;Docs: Walk paths
    Docs-&gt;&gt;Docs: Filter markdown
    Docs--&gt;&gt;Pipeline: DocFile list
    Pipeline-&gt;&gt;EventStore: Emit DocumentationDiscovered
    Pipeline-&gt;&gt;Hugo: GenerateConfig()
    Hugo-&gt;&gt;Hugo: Apply theme params
    Hugo-&gt;&gt;Hugo: Write hugo.yaml
    Hugo--&gt;&gt;Pipeline: Config ready
    Pipeline-&gt;&gt;Hugo: CopyContent()
    Hugo-&gt;&gt;Hugo: Transform files
    Hugo--&gt;&gt;Pipeline: Content ready
    Pipeline-&gt;&gt;Hugo: RunHugo()
    Hugo-&gt;&gt;Hugo: Execute hugo build
    Hugo--&gt;&gt;Pipeline: Site generated
    Pipeline-&gt;&gt;EventStore: Emit BuildCompleted
    Pipeline--&gt;&gt;BuildService: BuildReport
    BuildService--&gt;&gt;CLI: Success</pre>
<h3 id="state-persistence">State Persistence<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<pre class="mermaid actionbar-wrapper align-center ">sequenceDiagram
    participant Pipeline
    participant BuildState
    participant GitState
    participant StateStore
    participant FileSystem

    Pipeline-&gt;&gt;BuildState: Create()
    Pipeline-&gt;&gt;GitState: Update(repo, head)
    GitState-&gt;&gt;BuildState: Merge update
    Pipeline-&gt;&gt;BuildState: RecordStage(name, duration)
    Pipeline-&gt;&gt;StateStore: Save(state)
    StateStore-&gt;&gt;StateStore: Serialize to JSON
    StateStore-&gt;&gt;FileSystem: Write .docbuilder/state.json
    FileSystem--&gt;&gt;StateStore: Success
    StateStore--&gt;&gt;Pipeline: State persisted
    
    Note over Pipeline,FileSystem: Later: Incremental build
    
    Pipeline-&gt;&gt;StateStore: Load()
    StateStore-&gt;&gt;FileSystem: Read .docbuilder/state.json
    FileSystem--&gt;&gt;StateStore: JSON data
    StateStore-&gt;&gt;StateStore: Deserialize
    StateStore--&gt;&gt;Pipeline: Previous BuildState
    Pipeline-&gt;&gt;Pipeline: Compare HEAD refs
    Pipeline-&gt;&gt;Pipeline: Decide skip/clone</pre>
<hr>
<h2 id="component-interactions">Component Interactions<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<h3 id="relearn-theme-configuration">Relearn Theme Configuration<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0"><code>┌────────────────────────────────────────────────────┐
│          Relearn Theme Configuration               │
│          (hardcoded in config_writer.go)           │
│                                                    │
│  applyRelearnThemeDefaults(params)                 │
│                                                    │
│  - themeVariant: &#34;relearn-light&#34;                   │
│  - disableSearch: false                            │
│  - disableLandingPageButton: true                  │
│  - collapsibleMenu: true                           │
│  - showVisitedLinks: true                          │
└────────────────────────────────────────────────────┘

Generation Flow:
1. Load config → title, baseURL, etc.
2. Apply Relearn defaults
3. User params deep merge (override defaults)
4. Add dynamic fields (build_date)
5. Add hardcoded module: github.com/McShelby/hugo-theme-relearn
6. Write hugo.yaml</code></pre></div>
<h3 id="forge-integration">Forge Integration<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0"><code>┌──────────────────────────────────────────────┐
│           Forge Factory                      │
│                                              │
│  NewForge(config) → Forge                    │
└──────────────┬───────────────────────────────┘
               │
               │ Based on config.type
               │
    ┌──────────┼──────────┐
    │          │          │
    ▼          ▼          ▼
┌────────┐ ┌────────┐ ┌─────────┐
│GitHub  │ │GitLab  │ │Forgejo  │
│Client  │ │Client  │ │Client   │
└───┬────┘ └───┬────┘ └────┬────┘
    │          │           │
    └──────────┴───────────┘
               │
               │ All compose
               ▼
        ┌─────────────┐
        │ BaseForge   │
        │             │
        │ HTTP Client │
        │ Auth Header │
        │ Base URL    │
        └──────┬──────┘
               │
               │ Uses
               ▼
        ┌─────────────┐
        │http.Client  │
        │             │
        │- Timeout    │
        │- TLS Config │
        │- Transport  │
        └─────────────┘

Operation Flow:
1. Config specifies forge type: &#34;github&#34;
2. NewForge(config) creates GitHubClient
3. GitHubClient embeds BaseForge
4. BaseForge.NewRequest(method, path)
5. Add auth header: &#34;Authorization: Bearer {token}&#34;
6. Add custom headers: &#34;X-GitHub-Api-Version: 2022-11-28&#34;
7. BaseForge.DoRequest(req)
8. Parse response
9. Return Repository, error</code></pre></div>
<h3 id="change-detection">Change Detection<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0"><code>┌──────────────────────────────────────────────────┐
│          Change Detector                         │
└──────────────┬───────────────────────────────────┘
               │
               │ DetectChanges(repos)
               ▼
    ┌──────────────────────┐
    │  Load Previous State │
    │  - HEAD refs         │
    │  - Doc hashes        │
    └──────────┬───────────┘
               │
               ▼
    ┌──────────────────────┐
    │  For each repository │
    └──────────┬───────────┘
               │
               ├─ Level 1: HEAD Comparison
               │  ├─ Read current HEAD
               │  ├─ Compare to previous
               │  └─ Changed? → Include
               │
               ├─ Level 2: Quick Hash
               │  ├─ Hash directory tree
               │  ├─ Compare to previous
               │  └─ Changed? → Include
               │
               ├─ Level 3: Doc Files Hash
               │  ├─ Discover docs
               │  ├─ Sort paths
               │  ├─ SHA-256 hash
               │  ├─ Compare to previous
               │  └─ Changed? → Include
               │
               └─ Level 4: Deletion Detection
                  ├─ Check removed files
                  └─ Deletions? → Include
               
               ▼
    ┌──────────────────────┐
    │    ChangeSet         │
    │                      │
    │ - ChangedRepos: []   │
    │ - SkippedRepos: []   │
    │ - Reasons: map[]     │
    └──────────────────────┘</code></pre></div>
<hr>
<h2 id="state-machine-diagrams">State Machine Diagrams<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<h3 id="build-state-machine">Build State Machine<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<pre class="mermaid actionbar-wrapper align-center ">stateDiagram-v2
    [*] --&gt; Idle
    Idle --&gt; Preparing: Build request
    Preparing --&gt; Cloning: Output ready
    Cloning --&gt; Discovering: Repos cloned
    Discovering --&gt; Generating: Docs found
    Generating --&gt; Processing: Config generated
    Processing --&gt; Indexing: Content copied
    Indexing --&gt; Rendering: Indexes created
    Rendering --&gt; Complete: Hugo finished
    Processing --&gt; Complete: Skip Hugo
    
    Cloning --&gt; Failed: Clone error
    Discovering --&gt; Failed: Discovery error
    Generating --&gt; Failed: Config error
    Processing --&gt; Failed: Copy error
    Rendering --&gt; Failed: Hugo error
    
    Failed --&gt; [*]
    Complete --&gt; [*]
    
    note right of Cloning
        May skip unchanged repos
        in incremental mode
    end note
    
    note right of Rendering
        Optional based on
        render_mode setting
    end note</pre>
<h3 id="repository-state">Repository State<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<pre class="mermaid actionbar-wrapper align-center ">stateDiagram-v2
    [*] --&gt; New
    New --&gt; Cloning: First build
    Cloning --&gt; Cloned: Success
    Cloned --&gt; Checking: Incremental build
    Checking --&gt; Unchanged: No changes
    Checking --&gt; Updating: Changes detected
    Updating --&gt; Updated: Pull success
    Updated --&gt; Ready: Verified
    Unchanged --&gt; Ready: Skip update
    Ready --&gt; [*]
    
    Cloning --&gt; Error: Network/auth failure
    Updating --&gt; Error: Pull failure
    Error --&gt; Retrying: Retryable
    Retrying --&gt; Cloning: Retry clone
    Retrying --&gt; Updating: Retry update
    Error --&gt; Failed: Max retries
    Failed --&gt; [*]</pre>
<h3 id="theme-configuration-loading">Theme Configuration Loading<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<pre class="mermaid actionbar-wrapper align-center ">stateDiagram-v2
    [*] --&gt; Loading
    Loading --&gt; ApplyingDefaults: Config loaded
    ApplyingDefaults --&gt; MergingParams: Relearn defaults applied
    MergingParams --&gt; AddingModule: User params merged
    AddingModule --&gt; Ready: Module path added
    Ready --&gt; [*]
    
    note right of ApplyingDefaults
        Hardcoded Relearn defaults:
        themeVariant, disableSearch,
        collapsibleMenu, etc.
    end note
    
    note right of AddingModule
        Fixed module:
        github.com/McShelby/hugo-theme-relearn
    end note</pre>
<hr>
<h2 id="deployment-architecture">Deployment Architecture<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<h3 id="single-instance">Single Instance<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0"><code>┌────────────────────────────────────────┐
│          Server Host                   │
│                                        │
│  ┌───────────────────────────────────┐ │
│  │      DocBuilder Binary            │ │
│  │                                   │ │
│  │  ┌─────────┐      ┌────────────┐  │ │
│  │  │   CLI   │      │  Daemon    │  │ │
│  │  └─────────┘      └─────┬──────┘  │ │
│  │                         │         │ │
│  │                    ┌────▼─────┐   │ │
│  │                    │  Server  │   │ │
│  │                    │  :8080   │   │ │
│  │                    └──────────┘   │ │
│  └───────────────────────────────────┘ │
│                                        │
│  ┌───────────────────────────────────┐ │
│  │      Workspace                    │ │
│  │  /tmp/docbuilder-*/               │ │
│  └───────────────────────────────────┘ │
│                                        │
│  ┌───────────────────────────────────┐ │
│  │      State                        │ │
│  │  .docbuilder/state.json           │ │
│  └───────────────────────────────────┘ │
└────────────────────────────────────────┘</code></pre></div>
<h3 id="high-availability">High Availability<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0"><code>                    ┌──────────────┐
                    │ Load Balancer│
                    │   (nginx)    │
                    └──────┬───────┘
                           │
         ┌─────────────────┼────────────────┐
         │                 │                │
    ┌────▼────┐       ┌────▼────┐      ┌────▼────┐
    │ Worker 1│       │ Worker 2│      │ Worker 3│
    │         │       │         │      │         │
    │:8080    │       │:8080    │      │:8080    │
    └────┬────┘       └────┬────┘      └────┬────┘
         │                 │                │
         └─────────────────┼────────────────┘
                           │
                  ┌────────▼────────┐
                  │  Shared Storage │
                  │                 │
                  │  - Event Store  │
                  │  - State DB     │
                  │  - Output Files │
                  └─────────────────┘</code></pre></div>
<hr>
<h2 id="references">References<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<ul>
<li><a href="/docs/explanation/comprehensive-architecture/index.html">Comprehensive Architecture</a></li>
<li><a href="/docs/explanation/architecture/index.html">Architecture Overview</a></li>
<li><a href="/docs/explanation/namespacing-rationale/index.html">Namespacing Rationale</a></li>
<li><a href="/docs/ARCHITECTURE_MIGRATION_PLAN">Architecture Migration Plan</a></li>
</ul>

  <footer class="footline">
              <i class='fa-fw fas fa-calendar'></i> Dec 15, 2025
<div class="R-taxonomy taxonomy-categories cstyle" title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="/categories/explanation/index.html">Explanation</a></li>
  </ul>
</div>
  </footer>
</article>
        </div>
      </main>
    </div>
    <aside id="R-sidebar" class="default-animation">
      <div id="R-header-topbar" class="default-animation"></div>
      <div id="R-header-wrapper" class="default-animation">
        <a id="R-logo" class="R-default direction-row" href="/index.html">
          <span class="logo-title default-animation">Test</span>
        </a>
        <search><form action="/search/index.html" method="get">
          <div class="searchbox default-animation">
            <button class="search-detail" type="submit" title="Search (CTRL+ALT+f)"><i class="fas fa-fw fa-search"></i></button>
            <label class="a11y-only" for="R-search-by">Search</label>
            <input data-search-input id="R-search-by" name="search-by" class="search-by" type="search" placeholder="Search...">
            <button class="search-clear" type="button" data-search-clear="" title="Clear search"><i class="fas fa-fw fa-times" title="Clear search"></i></button>
          </div>
        </form></search>
      </div>
      <div id="R-homelinks" class="default-animation">
        <div class="R-menu-divider default-animation">
          <hr class="padding default-animation">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-homelinks default-animation">
          <ul class="space collapsible-menu">
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding default-animation">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-headercontrols default-animation">
          <ul class="">
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding default-animation">
        </div>
      </div>
      <div id="R-content-wrapper" class="highlightable">
        <div class="R-sidebarmenu R-shortcutmenu-main default-animation">
          <ul class="enlarge morespace collapsible-menu">
            <li class="parent " data-nav-id="/docs/index.html"><input type="checkbox" id="R-section-b5fa667da3c6d162416dac7e8c63bf8a" aria-controls="R-subsections-b5fa667da3c6d162416dac7e8c63bf8a" checked><label for="R-section-b5fa667da3c6d162416dac7e8c63bf8a"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu DocBuilder Documentation</span></label><a class="padding default-animation" href="/docs/index.html">DocBuilder Documentation<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-b5fa667da3c6d162416dac7e8c63bf8a" class="collapsible-menu">
            <li class="" data-nav-id="/docs/adr/index.html"><input type="checkbox" id="R-section-eb249477945dd1091e00721cd98f2bb3" aria-controls="R-subsections-eb249477945dd1091e00721cd98f2bb3"><label for="R-section-eb249477945dd1091e00721cd98f2bb3"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu adr</span></label><a class="padding default-animation" href="/docs/adr/index.html">adr<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-eb249477945dd1091e00721cd98f2bb3" class="collapsible-menu">
            <li class="" data-nav-id="/docs/adr/adr-000-uniform-error-handling/index.html"><a class="padding" href="/docs/adr/adr-000-uniform-error-handling/index.html">ADR-000: Uniform Error Handling<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/adr/adr-001-golden-testing-strategy/index.html"><a class="padding" href="/docs/adr/adr-001-golden-testing-strategy/index.html">ADR-001: Golden Testing Strategy for Output Verification<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/adr/adr-002-in-memory-content-pipeline/index.html"><a class="padding" href="/docs/adr/adr-002-in-memory-content-pipeline/index.html">ADR-002: Fix Index Stage Pipeline Bypass<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/adr/adr-003-fixed-transform-pipeline/index.html"><a class="padding" href="/docs/adr/adr-003-fixed-transform-pipeline/index.html">ADR-003: Fixed Transform Pipeline<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/adr/adr-005-documentation-linting/index.html"><a class="padding" href="/docs/adr/adr-005-documentation-linting/index.html">ADR-005: Documentation Linting for Pre-Commit Validation<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/adr/adr-004-forge-specific-markdown/index.html"><a class="padding" href="/docs/adr/adr-004-forge-specific-markdown/index.html">ADR-004: Forge-Specific Markdown Support<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
            <li class="" data-nav-id="/docs/debugging/index.html"><input type="checkbox" id="R-section-074abb89e994f93a5c2b6e91c0a76d87" aria-controls="R-subsections-074abb89e994f93a5c2b6e91c0a76d87"><label for="R-section-074abb89e994f93a5c2b6e91c0a76d87"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu debugging</span></label><a class="padding default-animation" href="/docs/debugging/index.html">debugging<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-074abb89e994f93a5c2b6e91c0a76d87" class="collapsible-menu">
            <li class="" data-nav-id="/docs/debugging/issue-001-docs-navigation-naming/index.html"><a class="padding" href="/docs/debugging/issue-001-docs-navigation-naming/index.html">issue-001-docs-navigation-naming<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
            <li class="" data-nav-id="/docs/how-to/index.html"><input type="checkbox" id="R-section-816fa9c68a5e0b65c6adadae7dee3943" aria-controls="R-subsections-816fa9c68a5e0b65c6adadae7dee3943"><label for="R-section-816fa9c68a5e0b65c6adadae7dee3943"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu how-to</span></label><a class="padding default-animation" href="/docs/how-to/index.html">how-to<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-816fa9c68a5e0b65c6adadae7dee3943" class="collapsible-menu">
            <li class="" data-nav-id="/docs/how-to/pr-comment-integration/index.html"><a class="padding" href="/docs/how-to/pr-comment-integration/index.html">pr-comment-integration<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/how-to/ci-cd-linting/index.html"><a class="padding" href="/docs/how-to/ci-cd-linting/index.html">How To: CI/CD Linting Integration<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/how-to/migrate-to-linting/index.html"><a class="padding" href="/docs/how-to/migrate-to-linting/index.html">How To: Migrate Existing Repository to Linting<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/how-to/setup-linting/index.html"><a class="padding" href="/docs/how-to/setup-linting/index.html">How To: Setup Documentation Linting<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/how-to/configure-webhooks/index.html"><a class="padding" href="/docs/how-to/configure-webhooks/index.html">Configure Webhooks for Automatic Rebuilds<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/how-to/add-content-transforms/index.html"><a class="padding" href="/docs/how-to/add-content-transforms/index.html">How To: Add Content Transforms<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/how-to/configure-forge-namespacing/index.html"><a class="padding" href="/docs/how-to/configure-forge-namespacing/index.html">How To: Configure Forge Namespacing<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/how-to/customize-index-pages/index.html"><a class="padding" href="/docs/how-to/customize-index-pages/index.html">How To: Customize Index Pages<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/how-to/enable-hugo-render/index.html"><a class="padding" href="/docs/how-to/enable-hugo-render/index.html">How To: Enable Hugo Rendering<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/how-to/enable-multi-version-docs/index.html"><a class="padding" href="/docs/how-to/enable-multi-version-docs/index.html">How To: Enable Multi-Version Documentation<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/how-to/enable-page-transitions/index.html"><a class="padding" href="/docs/how-to/enable-page-transitions/index.html">How To: Enable Page Transitions<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/how-to/prune-workspace-size/index.html"><a class="padding" href="/docs/how-to/prune-workspace-size/index.html">How To: Prune Workspace Size<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/how-to/run-incremental-builds/index.html"><a class="padding" href="/docs/how-to/run-incremental-builds/index.html">How To: Run Incremental Builds<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/how-to/use-relearn-theme/index.html"><a class="padding" href="/docs/how-to/use-relearn-theme/index.html">How To: Use Relearn Theme<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/how-to/write-cross-document-links/index.html"><a class="padding" href="/docs/how-to/write-cross-document-links/index.html">How To: Write Cross-Document Links<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
            <li class="" data-nav-id="/docs/refactoring/index.html"><input type="checkbox" id="R-section-052111b19865c39b759df952c283ee8d" aria-controls="R-subsections-052111b19865c39b759df952c283ee8d"><label for="R-section-052111b19865c39b759df952c283ee8d"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu refactoring</span></label><a class="padding default-animation" href="/docs/refactoring/index.html">refactoring<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-052111b19865c39b759df952c283ee8d" class="collapsible-menu">
            <li class="" data-nav-id="/docs/refactoring/nestif-complexity-reduction/index.html"><a class="padding" href="/docs/refactoring/nestif-complexity-reduction/index.html">Nested Complexity Reduction Plan<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
            <li class="" data-nav-id="/docs/reference/index.html"><input type="checkbox" id="R-section-ed53feda5bacec73fdf65d35bda5c479" aria-controls="R-subsections-ed53feda5bacec73fdf65d35bda5c479"><label for="R-section-ed53feda5bacec73fdf65d35bda5c479"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu reference</span></label><a class="padding default-animation" href="/docs/reference/index.html">reference<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-ed53feda5bacec73fdf65d35bda5c479" class="collapsible-menu">
            <li class="" data-nav-id="/docs/reference/index-files/index.html"><a class="padding" href="/docs/reference/index-files/index.html">index-files<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/reference/lint-json-schema/index.html"><a class="padding" href="/docs/reference/lint-json-schema/index.html">lint-json-schema<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/reference/lint-rules-changelog/index.html"><a class="padding" href="/docs/reference/lint-rules-changelog/index.html">Lint Rules Changelog<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/reference/lint-rules/index.html"><a class="padding" href="/docs/reference/lint-rules/index.html">Lint Rules Reference<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/reference/report/index.html"><a class="padding" href="/docs/reference/report/index.html">Build Reports Reference<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/reference/cli/index.html"><a class="padding" href="/docs/reference/cli/index.html">CLI Reference<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/reference/configuration/index.html"><a class="padding" href="/docs/reference/configuration/index.html">Configuration Reference<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/reference/content-transforms/index.html"><a class="padding" href="/docs/reference/content-transforms/index.html">Content Transforms Reference (DEPRECATED)<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/reference/pipeline-visualization/index.html"><a class="padding" href="/docs/reference/pipeline-visualization/index.html">Pipeline Visualization<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/reference/transform-validation/index.html"><a class="padding" href="/docs/reference/transform-validation/index.html">Transform Validation Reference (DEPRECATED)<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
            <li class="" data-nav-id="/docs/testing/index.html"><input type="checkbox" id="R-section-a2b6f2e8c080b8619f4023bd7003b7ed" aria-controls="R-subsections-a2b6f2e8c080b8619f4023bd7003b7ed"><label for="R-section-a2b6f2e8c080b8619f4023bd7003b7ed"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu testing</span></label><a class="padding default-animation" href="/docs/testing/index.html">testing<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-a2b6f2e8c080b8619f4023bd7003b7ed" class="collapsible-menu">
            <li class="" data-nav-id="/docs/testing/golden-test-implementation/index.html"><a class="padding" href="/docs/testing/golden-test-implementation/index.html">Golden Test Implementation<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
            <li class="" data-nav-id="/docs/tutorials/index.html"><input type="checkbox" id="R-section-07180028894b25824d0806e8fa591d66" aria-controls="R-subsections-07180028894b25824d0806e8fa591d66"><label for="R-section-07180028894b25824d0806e8fa591d66"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu tutorials</span></label><a class="padding default-animation" href="/docs/tutorials/index.html">tutorials<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-07180028894b25824d0806e8fa591d66" class="collapsible-menu">
            <li class="" data-nav-id="/docs/tutorials/getting-started/index.html"><a class="padding" href="/docs/tutorials/getting-started/index.html">Getting Started Tutorial<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
            <li class="" data-nav-id="/docs/ci-architecture-detection/index.html"><a class="padding" href="/docs/ci-architecture-detection/index.html">CI Architecture Detection<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/ci-cd-setup/index.html"><a class="padding" href="/docs/ci-cd-setup/index.html">CI/CD Setup Guide<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="parent " data-nav-id="/docs/explanation/index.html"><input type="checkbox" id="R-section-db26f542389517033cda1be23c4bdbb2" aria-controls="R-subsections-db26f542389517033cda1be23c4bdbb2" checked><label for="R-section-db26f542389517033cda1be23c4bdbb2"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu Explanation Documentation</span></label><a class="padding default-animation" href="/docs/explanation/index.html">Explanation Documentation<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-db26f542389517033cda1be23c4bdbb2" class="collapsible-menu">
            <li class="" data-nav-id="/docs/explanation/webhook-documentation-isolation/index.html"><a class="padding" href="/docs/explanation/webhook-documentation-isolation/index.html">Webhook and Documentation Isolation Strategy<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="active " data-nav-id="/docs/explanation/architecture-diagrams/index.html"><a class="padding" href="/docs/explanation/architecture-diagrams/index.html">Architecture Diagrams<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/explanation/architecture/index.html"><a class="padding" href="/docs/explanation/architecture/index.html">Architecture Overview<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/explanation/comprehensive-architecture/index.html"><a class="padding" href="/docs/explanation/comprehensive-architecture/index.html">Comprehensive Architecture<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/explanation/namespacing-rationale/index.html"><a class="padding" href="/docs/explanation/namespacing-rationale/index.html">Namespacing Rationale<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/explanation/package-architecture/index.html"><a class="padding" href="/docs/explanation/package-architecture/index.html">Package Architecture<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/explanation/renderer-testing/index.html"><a class="padding" href="/docs/explanation/renderer-testing/index.html">Renderer Testing<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/explanation/skip-evaluation/index.html"><a class="padding" href="/docs/explanation/skip-evaluation/index.html">Skip Evaluation Logic<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
            <li class="" data-nav-id="/docs/style_guide/index.html"><a class="padding" href="/docs/style_guide/index.html">Go Style Guide<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
          </ul>
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-shortcuts default-animation">
          <ul class="space collapsible-menu">
          </ul>
        </div>
        <div id="R-footer-margin" class="default-animation"></div>
        <div class="R-menu-divider default-animation">
          <hr class="padding default-animation">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-footercontrols default-animation">
          <ul class="">
            <li class="R-variantswitcher">
              <div class="padding menu-control">
                <i class="fa-fw fas fa-paint-brush"></i>
                <span>&nbsp;</span>
                <div class="control-style">
                  <label class="a11y-only" for="R-select-variant">Theme</label>
                  <select id="R-select-variant">
                    <option id="R-select-variant-auto" value="auto" selected>Auto</option>
                    <option id="R-select-variant-zen-light" value="zen-light">Zen Light</option>
                    <option id="R-select-variant-zen-dark" value="zen-dark">Zen Dark</option>
                  </select>
                </div>
                <div class="clear"></div>
              </div>
              <script>window.relearn.markVariant();</script>
            </li>
            <li class="R-historyclearer">
              <div class="padding menu-control">
                <i class="fa-fw fas fa-history"></i>
                <span>&nbsp;</span>
                <div class="control-style">
                  <button>Clear History</button>
                </div>
                <div class="clear"></div>
              </div>
            </li>
          </ul>
        </div>
<div id="R-footer" class="default-animation"><p>Built with <a href="https://github.com/McShelby/hugo-theme-relearn" title="love"><i class="fas fa-heart"></i></a> by <a href="https://gohugo.io/">Hugo</a></p></div>
      </div>
    </aside>
    <script src="/js/js-yaml/js-yaml.min.js?1767195092" defer></script>
    <script src="/js/d3/d3-color.min.js?1767195092" defer></script>
    <script src="/js/d3/d3-dispatch.min.js?1767195092" defer></script>
    <script src="/js/d3/d3-drag.min.js?1767195092" defer></script>
    <script src="/js/d3/d3-ease.min.js?1767195092" defer></script>
    <script src="/js/d3/d3-interpolate.min.js?1767195092" defer></script>
    <script src="/js/d3/d3-selection.min.js?1767195092" defer></script>
    <script src="/js/d3/d3-timer.min.js?1767195092" defer></script>
    <script src="/js/d3/d3-transition.min.js?1767195092" defer></script>
    <script src="/js/d3/d3-zoom.min.js?1767195092" defer></script>
    <script src="/js/mermaid/mermaid.min.js?1767195092" defer></script>
    <script>
      window.relearn.themeUseMermaid = JSON.parse("{}");
    </script>
    <script src="/js/perfect-scrollbar/perfect-scrollbar.min.js?1767195092" defer></script>
    <script src="/js/theme.min.js?1767195092" defer></script>
    <div id="toast-container" role="status" aria-live="polite" aria-atomic="false"></div>
  </body>
</html>
