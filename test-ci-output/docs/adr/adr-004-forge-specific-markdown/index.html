<!DOCTYPE html>
<html id="R-html" lang="en" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="html">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.152.2">
    <meta name="generator" content="Relearn 9.0.1+33e135659ec8cb98af355c4244cb76e5bb11a882">
    <meta name="description" content="Status PROPOSED - Draft for discussion
Context DocBuilder aims to enable markdown files to work seamlessly both in their source forge (GitHub, GitLab, Forgejo) and in the rendered Hugo documentation site. However, forges support forge-specific markdown extensions that create references to forge resources:">
    <meta name="author" content="">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="ADR-004: Forge-Specific Markdown Support :: Test">
    <meta name="twitter:description" content="Status PROPOSED - Draft for discussion
Context DocBuilder aims to enable markdown files to work seamlessly both in their source forge (GitHub, GitLab, Forgejo) and in the rendered Hugo documentation site. However, forges support forge-specific markdown extensions that create references to forge resources:">
    <meta property="og:url" content="http://test/docs/adr/adr-004-forge-specific-markdown/index.html">
    <meta property="og:site_name" content="Test">
    <meta property="og:title" content="ADR-004: Forge-Specific Markdown Support :: Test">
    <meta property="og:description" content="Status PROPOSED - Draft for discussion
Context DocBuilder aims to enable markdown files to work seamlessly both in their source forge (GitHub, GitLab, Forgejo) and in the rendered Hugo documentation site. However, forges support forge-specific markdown extensions that create references to forge resources:">
    <meta property="og:locale" content="en">
    <meta property="og:type" content="article">
    <meta property="article:section" content="DocBuilder Documentation">
    <meta property="article:published_time" content="2025-12-18T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-12-18T00:00:00+00:00">
    <meta property="article:tag" content="Adr">
    <meta property="article:tag" content="Markdown">
    <meta property="article:tag" content="Forges">
    <meta property="article:tag" content="Content-Processing">
    <meta itemprop="name" content="ADR-004: Forge-Specific Markdown Support :: Test">
    <meta itemprop="description" content="Status PROPOSED - Draft for discussion
Context DocBuilder aims to enable markdown files to work seamlessly both in their source forge (GitHub, GitLab, Forgejo) and in the rendered Hugo documentation site. However, forges support forge-specific markdown extensions that create references to forge resources:">
    <meta itemprop="datePublished" content="2025-12-18T00:00:00+00:00">
    <meta itemprop="dateModified" content="2025-12-18T00:00:00+00:00">
    <meta itemprop="wordCount" content="2209">
    <meta itemprop="keywords" content="Adr,Markdown,Forges,Content-Processing">
    <title>ADR-004: Forge-Specific Markdown Support :: Test</title>
    <link href="/css/auto-complete/auto-complete.min.css?1767195092" rel="stylesheet">
    <script src="/js/auto-complete/auto-complete.min.js?1767195092" defer></script>
    <script src="/js/search-lunr.min.js?1767195092" defer></script>
    <script src="/js/search.min.js?1767195092" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.index_js_url="/searchindex.en.js?1767195092";
    </script>
    <script src="/js/lunr/lunr.min.js?1767195092" defer></script>
    <script src="/js/lunr/lunr.stemmer.support.min.js?1767195092" defer></script>
    <script src="/js/lunr/lunr.multi.min.js?1767195092" defer></script>
    <script src="/js/lunr/lunr.en.min.js?1767195092" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.contentLangs=['en'];
    </script>
    <link href="/fonts/fontawesome/css/all.min.css?1767195092" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/fonts/fontawesome/css/all.min.css?1767195092" rel="stylesheet"></noscript>
    <link href="/css/perfect-scrollbar/perfect-scrollbar.min.css?1767195092" rel="stylesheet">
    <link href="/css/theme.min.css?1767195092" rel="stylesheet">
    <link href="/css/format-html.min.css?1767195092" rel="stylesheet" id="R-format-style">
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = `.min`;
      window.relearn.path='\/docs\/adr\/adr-004-forge-specific-markdown\/index.html';
      window.relearn.relBasePath='..\/..\/..';
      window.relearn.relBaseUri='..\/..\/..';
      window.relearn.absBaseUri='http:\/\/test';
      window.relearn.disableInlineCopyToClipboard=false;
      window.relearn.enableBlockCodeWrap=true;
      // translations
      window.T_Copy_to_clipboard = `Copy text to clipboard`;
      window.T_Copied_to_clipboard = `Text copied to clipboard!`;
      window.T_Link_copied_to_clipboard = `Link copied to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
      window.T_Browser_unsupported_feature = `This browser doesn't support this feature`;
      // variant stuff
      window.relearn.themevariants = [ 'auto', 'zen-light', 'zen-dark' ];
      window.relearn.customvariantprefix = "my-custom-";
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.localStorage.setItem(window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.localStorage.getItem(window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.localStorage.getItem(window.relearn.absBaseUri + "/variant") ?? "";
        if( !variant ||
            (!variant.startsWith(window.relearn.customvariantprefix) && !window.relearn.themevariants.includes(variant)) ||
            (variant.startsWith(window.relearn.customvariantprefix) && !window.localStorage.getItem(window.relearn.absBaseUri + "/variantstylesheet-" + variant)) ){
          variant = window.relearn.themevariants[0];
          window.localStorage.setItem(window.relearn.absBaseUri + "/variant", variant);
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
    </script>
  </head>
  <body class="mobile-support html" data-origin="/docs/adr/adr-004-forge-specific-markdown/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar" class="default-animation">
        <div class="topbar-wrapper default-animation">
          <div class="topbar-sidebar-divider default-animation"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar default-animation" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide">
<span class="btn cstyle button link noborder notitle interactive"><button onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button></span>
            </div>
            <div class="topbar-button topbar-button-toc default-animation" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><button onclick="toggleTopbarFlyout(this)" type="button" title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-table-list"></i></button></span>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
<nav class="TableOfContents">
  <ul>
    <li><a href="#status">Status</a></li>
    <li><a href="#context">Context</a>
      <ul>
        <li><a href="#gitlab-specific-markdown-glfm">GitLab-Specific Markdown (GLFM)</a></li>
        <li><a href="#github-specific-markdown-gfm">GitHub-Specific Markdown (GFM)</a></li>
        <li><a href="#forgejogitea-markdown">Forgejo/Gitea Markdown</a></li>
        <li><a href="#the-problem">The Problem</a></li>
      </ul>
    </li>
    <li><a href="#decision">Decision</a>
      <ul>
        <li><a href="#1-reference-transforms">1. Reference Transforms</a></li>
        <li><a href="#2-configuration-schema">2. Configuration Schema</a></li>
        <li><a href="#3-implementation-stages">3. Implementation Stages</a></li>
      </ul>
    </li>
    <li><a href="#consequences">Consequences</a>
      <ul>
        <li><a href="#positive">Positive</a></li>
        <li><a href="#negative">Negative</a></li>
        <li><a href="#risks--mitigations">Risks &amp; Mitigations</a></li>
      </ul>
    </li>
    <li><a href="#alternatives-considered">Alternatives Considered</a>
      <ul>
        <li><a href="#alternative-1-no-processing-status-quo">Alternative 1: No Processing (Status Quo)</a></li>
        <li><a href="#alternative-2-hugo-only-processing">Alternative 2: Hugo-Only Processing</a></li>
        <li><a href="#alternative-3-client-side-javascript">Alternative 3: Client-Side JavaScript</a></li>
      </ul>
    </li>
    <li><a href="#examples">Examples</a>
      <ul>
        <li><a href="#example-1-simple-issue-reference">Example 1: Simple Issue Reference</a></li>
        <li><a href="#example-2-cross-project-reference">Example 2: Cross-Project Reference</a></li>
        <li><a href="#example-3-multiple-forge-types">Example 3: Multiple Forge Types</a></li>
      </ul>
    </li>
    <li><a href="#implementation-plan">Implementation Plan</a>
      <ul>
        <li><a href="#phase-1-foundation-week-1">Phase 1: Foundation (Week 1)</a></li>
        <li><a href="#phase-2-gitlab-issue-references-week-1-2">Phase 2: GitLab Issue References (Week 1-2)</a></li>
        <li><a href="#phase-3-gitlab-merge-requests-week-2-3">Phase 3: GitLab Merge Requests (Week 2-3)</a></li>
        <li><a href="#phase-4-github-support-week-3-4">Phase 4: GitHub Support (Week 3-4)</a></li>
        <li><a href="#phase-5-additional-reference-types-week-4-5">Phase 5: Additional Reference Types (Week 4-5)</a></li>
        <li><a href="#phase-6-cross-project-references-week-5-6">Phase 6: Cross-Project References (Week 5-6)</a></li>
        <li><a href="#phase-7-advanced-features-week-6-7">Phase 7: Advanced Features (Week 6-7)</a></li>
        <li><a href="#phase-8-optional-enhancements-week-7-8">Phase 8: Optional Enhancements (Week 7-8)</a></li>
      </ul>
    </li>
    <li><a href="#open-questions">Open Questions</a></li>
    <li><a href="#references">References</a></li>
    <li><a href="#decision-log">Decision Log</a></li>
  </ul>
</nav>
                </div>
              </div>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/index.html"><span itemprop="name">Test</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/docs/index.html"><span itemprop="name">DocBuilder Documentation</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/docs/adr/index.html"><span itemprop="name">adr</span></a><meta itemprop="position" content="3">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><span itemprop="name">ADR-004: Forge-Specific Markdown Support</span><meta itemprop="position" content="4"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-edit default-animation" data-content-empty="disable" data-width-s="area-more" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><a href="./docs/_edit/main/./adr/adr-004-forge-specific-markdown.md" title="Edit (CTRL+ALT+w)"><i class="fa-fw fas fa-pen"></i></a></span>
            </div>
            <div class="topbar-button topbar-button-prev default-animation" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><a href="/docs/adr/adr-005-documentation-linting/index.html" title="ADR-005: Documentation Linting for Pre-Commit Validation (ðŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a></span>
            </div>
            <div class="topbar-button topbar-button-next default-animation" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><a href="/docs/debugging/index.html" title="debugging (ðŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a></span>
            </div>
            <div class="topbar-button topbar-button-more default-animation" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><button onclick="toggleTopbarFlyout(this)" type="button" title="More"><i class="fa-fw fas fa-ellipsis-v"></i></button></span>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
                  <div class="topbar-area topbar-area-more" data-area="more">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable docs" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="/tags/adr/index.html">Adr</a></li>
    <li><a class="term-link" href="/tags/content-processing/index.html">Content-Processing</a></li>
    <li><a class="term-link" href="/tags/forges/index.html">Forges</a></li>
    <li><a class="term-link" href="/tags/markdown/index.html">Markdown</a></li>
  </ul>
</div>
  </header>

<h1 id="adr-004-forge-specific-markdown-support">ADR-004: Forge-Specific Markdown Support</h1>

<h2 id="status">Status<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<p><strong>PROPOSED</strong> - Draft for discussion</p>
<h2 id="context">Context<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<p>DocBuilder aims to enable markdown files to work seamlessly both in their source forge (GitHub, GitLab, Forgejo) and in the rendered Hugo documentation site. However, forges support forge-specific markdown extensions that create references to forge resources:</p>
<h3 id="gitlab-specific-markdown-glfm">GitLab-Specific Markdown (GLFM)<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p>GitLab provides extensive reference syntax (<a href="https://docs.gitlab.com/ee/user/markdown.html#gitlab-specific-references" rel="external">GitLab Flavored Markdown</a>):</p>
<table>
  <thead>
      <tr>
          <th>Reference Type</th>
          <th>Syntax</th>
          <th>Cross-Project</th>
          <th>Example</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Issue</td>
          <td><code>#123</code>, <code>GL-123</code>, <code>[issue:123]</code></td>
          <td><code>namespace/project#123</code></td>
          <td><code>#42</code> â†’ Issue link</td>
      </tr>
      <tr>
          <td>Merge Request</td>
          <td><code>!123</code></td>
          <td><code>namespace/project!123</code></td>
          <td><code>!17</code> â†’ MR link</td>
      </tr>
      <tr>
          <td>Snippet</td>
          <td><code>$123</code></td>
          <td><code>namespace/project$123</code></td>
          <td><code>$5</code> â†’ Snippet link</td>
      </tr>
      <tr>
          <td>Epic</td>
          <td><code>&amp;123</code>, <code>[epic:123]</code></td>
          <td><code>group/subgroup&amp;123</code></td>
          <td><code>&amp;8</code> â†’ Epic link</td>
      </tr>
      <tr>
          <td>User</td>
          <td><code>@username</code></td>
          <td>n/a</td>
          <td><code>@alice</code> â†’ User profile</td>
      </tr>
      <tr>
          <td>Label</td>
          <td><code>~bug</code>, <code>~&quot;feature request&quot;</code></td>
          <td><code>namespace/project~bug</code></td>
          <td><code>~priority::high</code></td>
      </tr>
      <tr>
          <td>Milestone</td>
          <td><code>%v1.0</code></td>
          <td><code>namespace/project%v1.0</code></td>
          <td><code>%release-1.0</code></td>
      </tr>
      <tr>
          <td>Commit</td>
          <td><code>9ba12248</code></td>
          <td><code>namespace/project@9ba12248</code></td>
          <td>Short SHA link</td>
      </tr>
      <tr>
          <td>Alert</td>
          <td><code>^alert#123</code></td>
          <td><code>namespace/project^alert#123</code></td>
          <td>Alert reference</td>
      </tr>
      <tr>
          <td>Contact</td>
          <td><code>[contact:test@example.com]</code></td>
          <td>n/a</td>
          <td>CRM contact</td>
      </tr>
  </tbody>
</table>
<h3 id="github-specific-markdown-gfm">GitHub-Specific Markdown (GFM)<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p>GitHub also has reference syntax:</p>
<table>
  <thead>
      <tr>
          <th>Reference Type</th>
          <th>Syntax</th>
          <th>Cross-Repo</th>
          <th>Example</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Issue/PR</td>
          <td><code>#123</code></td>
          <td><code>owner/repo#123</code></td>
          <td><code>#42</code></td>
      </tr>
      <tr>
          <td>User</td>
          <td><code>@username</code></td>
          <td>n/a</td>
          <td><code>@octocat</code></td>
      </tr>
      <tr>
          <td>Team</td>
          <td><code>@org/team</code></td>
          <td>n/a</td>
          <td><code>@github/docs</code></td>
      </tr>
      <tr>
          <td>Commit</td>
          <td><code>SHA</code></td>
          <td><code>owner/repo@SHA</code></td>
          <td><code>a1b2c3d</code></td>
      </tr>
  </tbody>
</table>
<h3 id="forgejogitea-markdown">Forgejo/Gitea Markdown<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p>Similar to GitHub with some extensions:</p>
<table>
  <thead>
      <tr>
          <th>Reference Type</th>
          <th>Syntax</th>
          <th>Cross-Repo</th>
          <th>Example</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Issue/PR</td>
          <td><code>#123</code></td>
          <td><code>owner/repo#123</code></td>
          <td><code>#42</code></td>
      </tr>
      <tr>
          <td>User</td>
          <td><code>@username</code></td>
          <td>n/a</td>
          <td><code>@alice</code></td>
      </tr>
      <tr>
          <td>Commit</td>
          <td><code>SHA</code></td>
          <td><code>owner/repo@SHA</code></td>
          <td><code>abc123</code></td>
      </tr>
  </tbody>
</table>
<h3 id="the-problem">The Problem<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p><strong>Multi-Forge Environments:</strong></p>
<ul>
<li>DocBuilder may aggregate docs from multiple forge instances (e.g., <code>gitlab-main</code>, <code>gitlab-secondary</code>, <code>github-public</code>)</li>
<li>Each document knows which forge instance it came from via <code>page.File.Forge</code> (the forge identifier)</li>
<li>All references in a document refer to that same forge instance</li>
<li>Simple references (<code>#123</code>) and cross-project references (<code>other/repo#123</code>) both refer to the document&rsquo;s source forge</li>
</ul>
<p><strong>Rendering Challenges:</strong></p>
<ul>
<li>Forge-specific syntax (<code>#123</code>, <code>!456</code>) is not standard markdown</li>
<li>References must be converted to standard markdown links for Hugo</li>
<li>Must preserve readability in both source forge and rendered docs</li>
</ul>
<p><strong>User Goals:</strong></p>
<ol>
<li>Write markdown once, works in both forge and docs site</li>
<li>Reference issues, PRs, users, etc. naturally</li>
<li>Support cross-repository references</li>
<li>Handle multiple forge instances correctly</li>
</ol>
<h2 id="decision">Decision<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<p>Implement a <strong>multi-stage forge-specific markdown transform</strong> in the content pipeline with the following components:</p>
<h3 id="1-reference-transforms">1. Reference Transforms<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p><strong>Stage:</strong> <code>StageTransform</code></p>
<p><strong>Strategy:</strong> Build one focused transformer at a time, test thoroughly, then move to the next.</p>
<p><strong>Implementation Approach:</strong> One transformer per reference type per forge (detects pattern and builds URL in single pass)</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">// GitLabIssueReferenceTransform handles GitLab issue references (#123)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// Detects patterns and builds URLs in a single pass</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">type</span><span class="w"> </span><span class="nx">GitLabIssueReferenceTransform</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">cache</span><span class="w"> </span><span class="nx">ReferenceCache</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">t</span><span class="w"> </span><span class="o">*</span><span class="nx">GitLabIssueReferenceTransform</span><span class="p">)</span><span class="w"> </span><span class="nf">CanTransform</span><span class="p">(</span><span class="nx">page</span><span class="w"> </span><span class="o">*</span><span class="nx">ContentPage</span><span class="p">,</span><span class="w"> </span><span class="nx">ctx</span><span class="w"> </span><span class="o">*</span><span class="nx">TransformContext</span><span class="p">)</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">forgeConfig</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">ctx</span><span class="p">.</span><span class="nx">Generator</span><span class="p">.</span><span class="nf">GetConfig</span><span class="p">().</span><span class="nf">GetForgeByName</span><span class="p">(</span><span class="nx">page</span><span class="p">.</span><span class="nx">File</span><span class="p">.</span><span class="nx">Forge</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">forgeConfig</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">forgeConfig</span><span class="p">.</span><span class="nx">Type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nx">config</span><span class="p">.</span><span class="nx">ForgeGitLab</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">t</span><span class="w"> </span><span class="o">*</span><span class="nx">GitLabIssueReferenceTransform</span><span class="p">)</span><span class="w"> </span><span class="nf">Transform</span><span class="p">(</span><span class="nx">page</span><span class="w"> </span><span class="o">*</span><span class="nx">ContentPage</span><span class="p">,</span><span class="w"> </span><span class="nx">ctx</span><span class="w"> </span><span class="o">*</span><span class="nx">TransformContext</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">TransformationResult</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">forgeConfig</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">ctx</span><span class="p">.</span><span class="nx">Generator</span><span class="p">.</span><span class="nf">GetConfig</span><span class="p">().</span><span class="nf">GetForgeByName</span><span class="p">(</span><span class="nx">page</span><span class="p">.</span><span class="nx">File</span><span class="p">.</span><span class="nx">Forge</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// Detect issue patterns: #123, [issue:123], GL-123</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">issuePattern</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">regexp</span><span class="p">.</span><span class="nf">MustCompile</span><span class="p">(</span><span class="s">`(?:^|[\s(])(?:#(\d+)|GL-(\d+)|\[issue:(\d+)\])(?:[\s.,;:!?)]|$)`</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// Find all matches with their positions</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">matches</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">issuePattern</span><span class="p">.</span><span class="nf">FindAllStringSubmatchIndex</span><span class="p">(</span><span class="nx">page</span><span class="p">.</span><span class="nx">Content</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="nx">matches</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nf">NewTransformationResult</span><span class="p">().</span><span class="nf">SetSuccess</span><span class="p">(),</span><span class="w"> </span><span class="kc">nil</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// Process matches in reverse order to maintain string positions</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">replacements</span><span class="w"> </span><span class="p">[]</span><span class="nx">replacement</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">match</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">range</span><span class="w"> </span><span class="nx">matches</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nx">issueNum</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nf">extractNumber</span><span class="p">(</span><span class="nx">page</span><span class="p">.</span><span class="nx">Content</span><span class="p">[</span><span class="nx">match</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span><span class="nx">match</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span><span class="w"> </span><span class="c1">// helper to extract number</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// Build URL (check cache first)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nx">cacheKey</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span><span class="s">&#34;gitlab:issue:%s:%d&#34;</span><span class="p">,</span><span class="w"> </span><span class="nx">page</span><span class="p">.</span><span class="nx">File</span><span class="p">.</span><span class="nx">Repository</span><span class="p">,</span><span class="w"> </span><span class="nx">issueNum</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nx">url</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">t</span><span class="p">.</span><span class="nx">cache</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="nx">cacheKey</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nx">url</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&#34;&#34;</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nx">url</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span><span class="s">&#34;%s/%s/-/issues/%d&#34;</span><span class="p">,</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="nx">forgeConfig</span><span class="p">.</span><span class="nx">BaseURL</span><span class="p">,</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="nx">page</span><span class="p">.</span><span class="nx">File</span><span class="p">.</span><span class="nx">Repository</span><span class="p">,</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="nx">issueNum</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nx">t</span><span class="p">.</span><span class="nx">cache</span><span class="p">.</span><span class="nf">Set</span><span class="p">(</span><span class="nx">cacheKey</span><span class="p">,</span><span class="w"> </span><span class="nx">url</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// Create markdown link</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nx">replacement</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span><span class="s">&#34;[#%d](/docs/adr/%s)&#34;</span><span class="p">,</span><span class="w"> </span><span class="nx">issueNum</span><span class="p">,</span><span class="w"> </span><span class="nx">url</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nx">replacements</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">append</span><span class="p">(</span><span class="nx">replacements</span><span class="p">,</span><span class="w"> </span><span class="nx">replacement</span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nx">start</span><span class="p">:</span><span class="w"> </span><span class="nx">match</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nx">end</span><span class="p">:</span><span class="w">   </span><span class="nx">match</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nx">text</span><span class="p">:</span><span class="w">  </span><span class="nx">replacement</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">})</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// Apply replacements in reverse order</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">page</span><span class="p">.</span><span class="nx">Content</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nf">applyReplacements</span><span class="p">(</span><span class="nx">page</span><span class="p">.</span><span class="nx">Content</span><span class="p">,</span><span class="w"> </span><span class="nx">replacements</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nf">NewTransformationResult</span><span class="p">().</span><span class="nf">SetSuccess</span><span class="p">(),</span><span class="w"> </span><span class="kc">nil</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// GitLabMergeRequestReferenceDetector handles only GitLab MR references (!123)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">type</span><span class="w"> </span><span class="nx">GitLabMergeRequestReferenceDetector</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">t</span><span class="w"> </span><span class="o">*</span><span class="nx">GitLabMergeRequestReferenceDetector</span><span class="p">)</span><span class="w"> </span><span class="nf">CanTransform</span><span class="p">(</span><span class="nx">page</span><span class="w"> </span><span class="o">*</span><span class="nx">ContentPage</span><span class="p">,</span><span class="w"> </span><span class="nx">ctx</span><span class="w"> </span><span class="o">*</span><span class="nx">TransformContext</span><span class="p">)</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">forgeConfig</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">ctx</span><span class="p">.</span><span class="nx">Generator</span><span class="p">.</span><span class="nf">GetConfig</span><span class="p">().</span><span class="nf">GetForgeByName</span><span class="p">(</span><span class="nx">page</span><span class="p">.</span><span class="nx">File</span><span class="p">.</span><span class="nx">Forge</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">forgeConfig</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">forgeConfig</span><span class="p">.</span><span class="nx">Type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nx">config</span><span class="p">.</span><span class="nx">ForgeGitLab</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// GitLabLabelReferenceDetector handles only GitLab label references (~label)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">type</span><span class="w"> </span><span class="nx">GitLabLabelReferenceDetector</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// ... similar structure</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// GitHubIssueReferenceDetector handles GitHub issue/PR references (#123)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">type</span><span class="w"> </span><span class="nx">GitHubIssueReferenceDetector</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// GitHubUserReferenceDetector handles GitHub user mentions (@username)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">type</span><span class="w"> </span><span class="nx">GitHubUserReferenceDetector</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// GitHubTeamReferenceDetector handles GitHub team mentions (@org/team)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">type</span><span class="w"> </span><span class="nx">GitHubTeamReferenceDetector</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// ... and so on for each reference type</span></span></span></code></pre></td></tr></table>
</div>
</div>
<p><strong>Pros:</strong></p>
<ul>
<li>Very focused, single-purpose transformers (single responsibility)</li>
<li>Easy to test each reference type independently</li>
<li>Simple to add new reference types</li>
<li>Single pass per reference type (efficient)</li>
<li>Easy to understand what each transformer does</li>
<li>Direct pattern â†’ URL conversion (no intermediate state)</li>
</ul>
<p><strong>Cons:</strong></p>
<ul>
<li>Many transformers (could be 20+ total)</li>
<li>More <code>CanTransform()</code> checks in pipeline (minimal performance impact)</li>
<li>Some duplication of pattern matching logic (mitigated by helper utilities)</li>
</ul>
<p><strong>Pipeline Registration:</strong></p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span><span class="w"> </span><span class="nf">defaultTransforms</span><span class="p">(</span><span class="nx">cfg</span><span class="w"> </span><span class="o">*</span><span class="nx">config</span><span class="p">.</span><span class="nx">Config</span><span class="p">)</span><span class="w"> </span><span class="p">[]</span><span class="nx">FileTransform</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">cache</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nf">NewReferenceCache</span><span class="p">()</span><span class="w"> </span><span class="c1">// Shared cache instance</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">[]</span><span class="nx">FileTransform</span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nx">parseFrontMatter</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nx">normalizeIndexFiles</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// ... existing transforms</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// GitLab reference transforms (detect + build URL in one pass)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nf">NewGitLabIssueReferenceTransform</span><span class="p">(</span><span class="nx">cache</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nf">NewGitLabMergeRequestReferenceTransform</span><span class="p">(</span><span class="nx">cache</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nf">NewGitLabLabelReferenceTransform</span><span class="p">(</span><span class="nx">cache</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nf">NewGitLabMilestoneReferenceTransform</span><span class="p">(</span><span class="nx">cache</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nf">NewGitLabSnippetReferenceTransform</span><span class="p">(</span><span class="nx">cache</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nf">NewGitLabEpicReferenceTransform</span><span class="p">(</span><span class="nx">cache</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nf">NewGitLabUserReferenceTransform</span><span class="p">(</span><span class="nx">cache</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// GitHub reference transforms</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nf">NewGitHubIssueReferenceTransform</span><span class="p">(</span><span class="nx">cache</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nf">NewGitHubUserReferenceTransform</span><span class="p">(</span><span class="nx">cache</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nf">NewGitHubTeamReferenceTransform</span><span class="p">(</span><span class="nx">cache</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// Forgejo reference transforms</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nf">NewForgejoIssueReferenceTransform</span><span class="p">(</span><span class="nx">cache</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nf">NewForgejoUserReferenceTransform</span><span class="p">(</span><span class="nx">cache</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nx">serializeDocument</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div>
<p><strong>No Configuration Required:</strong></p>
<p>Transforms are always active for documents from matching forge types. The <code>CanTransform()</code> guard ensures each transformer only processes appropriate documents.</p>
<p><strong>Testing Benefits:</strong></p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span><span class="w"> </span><span class="nf">TestGitLabIssueReferenceTransform_SimpleReference</span><span class="p">(</span><span class="nx">t</span><span class="w"> </span><span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">T</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">cache</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nf">NewMockCache</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">transform</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nf">NewGitLabIssueReferenceTransform</span><span class="p">(</span><span class="nx">cache</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">page</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">models</span><span class="p">.</span><span class="nx">ContentPage</span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nx">Content</span><span class="p">:</span><span class="w"> </span><span class="s">&#34;Fixed in #123&#34;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nx">File</span><span class="p">:</span><span class="w"> </span><span class="nx">docs</span><span class="p">.</span><span class="nx">DocFile</span><span class="p">{</span><span class="nx">Forge</span><span class="p">:</span><span class="w"> </span><span class="s">&#34;my-gitlab&#34;</span><span class="p">,</span><span class="w"> </span><span class="nx">Repository</span><span class="p">:</span><span class="w"> </span><span class="s">&#34;org/repo&#34;</span><span class="p">},</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">result</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">transform</span><span class="p">.</span><span class="nf">Transform</span><span class="p">(</span><span class="nx">page</span><span class="p">,</span><span class="w"> </span><span class="nx">ctx</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">require</span><span class="p">.</span><span class="nf">NoError</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// Verify content was replaced with markdown link</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">assert</span><span class="p">.</span><span class="nf">Equal</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;Fixed in [#123](https://gitlab.com/org/repo/-/issues/123)&#34;</span><span class="p">,</span><span class="w"> </span><span class="nx">page</span><span class="p">.</span><span class="nx">Content</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">func</span><span class="w"> </span><span class="nf">TestGitLabIssueReferenceTransform_CacheHit</span><span class="p">(</span><span class="nx">t</span><span class="w"> </span><span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">T</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">cache</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nf">NewMockCache</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">cache</span><span class="p">.</span><span class="nf">Set</span><span class="p">(</span><span class="s">&#34;gitlab:issue:org/repo:456&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;https://cached-url.com&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">transform</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nf">NewGitLabIssueReferenceTransform</span><span class="p">(</span><span class="nx">cache</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">page</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">models</span><span class="p">.</span><span class="nx">ContentPage</span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nx">Content</span><span class="p">:</span><span class="w"> </span><span class="s">&#34;See GL-456&#34;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nx">File</span><span class="p">:</span><span class="w"> </span><span class="nx">docs</span><span class="p">.</span><span class="nx">DocFile</span><span class="p">{</span><span class="nx">Forge</span><span class="p">:</span><span class="w"> </span><span class="s">&#34;my-gitlab&#34;</span><span class="p">,</span><span class="w"> </span><span class="nx">Repository</span><span class="p">:</span><span class="w"> </span><span class="s">&#34;org/repo&#34;</span><span class="p">},</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">result</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">transform</span><span class="p">.</span><span class="nf">Transform</span><span class="p">(</span><span class="nx">page</span><span class="p">,</span><span class="w"> </span><span class="nx">ctx</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">require</span><span class="p">.</span><span class="nf">NoError</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// Verify cached URL was used in replacement</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">assert</span><span class="p">.</span><span class="nf">Equal</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;See [GL-456](https://cached-url.com)&#34;</span><span class="p">,</span><span class="w"> </span><span class="nx">page</span><span class="p">.</span><span class="nx">Content</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// Each reference type gets focused, isolated tests for pattern detection, URL building, AND content replacement</span></span></span></code></pre></td></tr></table>
</div>
</div>
<p><strong>Build incrementally:</strong> Start with GitLab issue transform (#123), test thoroughly, then add GitLab merge requests (!123), then move to other forges and reference types.</p>
<h4 id="shared-helper-utilities">Shared Helper Utilities<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h4>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">// Helper type for managing replacements</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">type</span><span class="w"> </span><span class="nx">replacement</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">start</span><span class="w"> </span><span class="kt">int</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">end</span><span class="w">   </span><span class="kt">int</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">text</span><span class="w">  </span><span class="kt">string</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// applyReplacements applies text replacements in reverse order to maintain positions</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">func</span><span class="w"> </span><span class="nf">applyReplacements</span><span class="p">(</span><span class="nx">content</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">replacements</span><span class="w"> </span><span class="p">[]</span><span class="nx">replacement</span><span class="p">)</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// Sort by position (descending) to apply from end to start</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">sort</span><span class="p">.</span><span class="nf">Slice</span><span class="p">(</span><span class="nx">replacements</span><span class="p">,</span><span class="w"> </span><span class="kd">func</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="w"> </span><span class="nx">j</span><span class="w"> </span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">replacements</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">start</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="nx">replacements</span><span class="p">[</span><span class="nx">j</span><span class="p">].</span><span class="nx">start</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">})</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">r</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">range</span><span class="w"> </span><span class="nx">replacements</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nx">content</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">content</span><span class="p">[:</span><span class="nx">r</span><span class="p">.</span><span class="nx">start</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">r</span><span class="p">.</span><span class="nx">text</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">content</span><span class="p">[</span><span class="nx">r</span><span class="p">.</span><span class="nx">end</span><span class="p">:]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">content</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div>
<p><strong>Rendering Strategy:</strong> Each transform converts references to standard markdown links:</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-markdown" data-lang="markdown"><span class="line"><span class="cl">&lt;!-- Source in GitLab --&gt;
</span></span><span class="line"><span class="cl">See issue <span class="ni">#123</span> for details.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">&lt;!-- After GitLabIssueReferenceTransform --&gt;
</span></span><span class="line"><span class="cl">See issue [<span class="nt">#123</span>](<span class="na">https://gitlab.com/org/repo/-/issues/123</span>) for details.</span></span></code></pre></td></tr></table>
</div>
</div>
<p><strong>Why standard markdown links:</strong></p>
<ul>
<li>Simple, no Hugo shortcodes needed</li>
<li>Works in all markdown renderers</li>
<li>Preserves functionality (clickable links in both forge and docs)</li>
<li>Easy to test and verify</li>
</ul>
<h3 id="2-configuration-schema">2. Configuration Schema<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p><strong>Per-Forge Settings:</strong></p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">forges</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">gitlab-main</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">gitlab</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">base_url</span><span class="p">:</span><span class="w"> </span><span class="l">https://gitlab.com</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">api_url</span><span class="p">:</span><span class="w"> </span><span class="l">https://gitlab.com/api/v4</span></span></span></code></pre></td></tr></table>
</div>
</div>
<p><strong>No Additional Configuration Required:</strong></p>
<p>Forge reference processing works automatically without user configuration. The cache layer uses sensible defaults (24h TTL) and automatically selects NATS KV when available in daemon mode, gracefully degrading to in-memory cache otherwise.</p>
<h3 id="3-implementation-stages">3. Implementation Stages<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p><strong>Phase 1: Basic References (Minimal Viable)</strong></p>
<ul>
<li>Implement transforms for basic patterns: <code>#123</code>, <code>!123</code></li>
<li>Each transform detects, builds URL, and replaces content</li>
<li>Cache URL building results with 24h TTL</li>
<li>Add metrics for reference frequency</li>
</ul>
<p><strong>Phase 2: Advanced Features</strong></p>
<ul>
<li>Cross-project references</li>
<li>Label and milestone support</li>
<li>Epic support (GitLab)</li>
<li>Snippet support</li>
</ul>
<h2 id="consequences">Consequences<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<h3 id="positive">Positive<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<ol>
<li><strong>Dual Compatibility</strong>: Markdown works in both forge and docs</li>
<li><strong>Rich References</strong>: Support forge-native syntax naturally</li>
<li><strong>Multi-Forge</strong>: Handle multiple forge instances correctly</li>
<li><strong>Extensible</strong>: Easy to add new reference types</li>
<li><strong>Graceful Degradation</strong>: Failures preserve original text</li>
<li><strong>Testable</strong>: Each reference type can be tested independently (Option B)</li>
<li><strong>Simple</strong>: No configuration needed, transforms run when applicable</li>
</ol>
<h3 id="negative">Negative<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<ol>
<li><strong>Complexity</strong>: Adds transforms to pipeline</li>
<li><strong>Maintenance</strong>: Must track forge markdown spec changes</li>
<li><strong>Future API Work</strong>: May need forge API for validation/metadata (not in initial scope)</li>
</ol>
<h3 id="risks--mitigations">Risks &amp; Mitigations<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<table>
  <thead>
      <tr>
          <th>Risk</th>
          <th>Mitigation</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Performance impact</td>
          <td>Cache URL building results, <code>CanTransform()</code> guards prevent unnecessary work</td>
      </tr>
      <tr>
          <td>Forge spec changes</td>
          <td>Version detection, graceful fallbacks</td>
      </tr>
      <tr>
          <td>Pattern ambiguity</td>
          <td>Well-tested regex patterns, explicit word boundaries</td>
      </tr>
  </tbody>
</table>
<h2 id="alternatives-considered">Alternatives Considered<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<h3 id="alternative-1-no-processing-status-quo">Alternative 1: No Processing (Status Quo)<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p><strong>Approach:</strong> Leave forge references as-is, let them break in rendered docs.</p>
<p><strong>Rejected because:</strong></p>
<ul>
<li>Poor user experience in docs</li>
<li>Defeats dual-compatibility goal</li>
<li>No better than current state</li>
</ul>
<h3 id="alternative-2-hugo-only-processing">Alternative 2: Hugo-Only Processing<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p><strong>Approach:</strong> Use Hugo&rsquo;s markdown processing hooks.</p>
<p><strong>Rejected because:</strong></p>
<ul>
<li>Locks us into Hugo implementation</li>
<li>Can&rsquo;t reuse with other static generators</li>
<li>Less control over processing</li>
</ul>
<h3 id="alternative-3-client-side-javascript">Alternative 3: Client-Side JavaScript<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p><strong>Approach:</strong> Detect and resolve references in browser.</p>
<p><strong>Rejected because:</strong></p>
<ul>
<li>Doesn&rsquo;t work in static exports</li>
<li>Requires forge API access from client</li>
<li>Performance issues</li>
<li>SEO problems</li>
</ul>
<h2 id="examples">Examples<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<h3 id="example-1-simple-issue-reference">Example 1: Simple Issue Reference<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p><strong>Source (in GitLab):</strong></p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-markdown" data-lang="markdown"><span class="line"><span class="cl">The authentication bug was fixed in <span class="ni">#123</span>.</span></span></code></pre></td></tr></table>
</div>
</div>
<p><strong>After Processing:</strong></p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-markdown" data-lang="markdown"><span class="line"><span class="cl">The authentication bug was fixed in [<span class="nt">#123</span>](<span class="na">https://gitlab.com/myorg/api-docs/-/issues/123</span>).</span></span></code></pre></td></tr></table>
</div>
</div>
<p><strong>Frontmatter Addition:</strong></p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">forge_references</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">issue</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="m">123</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l">https://gitlab.com/myorg/api-docs/-/issues/123</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">resolved</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span></span></span></code></pre></td></tr></table>
</div>
</div>
<h3 id="example-2-cross-project-reference">Example 2: Cross-Project Reference<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p><strong>Source (in GitLab):</strong></p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-markdown" data-lang="markdown"><span class="line"><span class="cl">See the design in myorg/design-system<span class="ni">#45</span>.</span></span></code></pre></td></tr></table>
</div>
</div>
<p><strong>After Processing:</strong></p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-markdown" data-lang="markdown"><span class="line"><span class="cl">See the design in {{&lt; forge-ref type=&#34;issue&#34; project=&#34;myorg/design-system&#34; id=&#34;45&#34; &gt;}}myorg/design-system<span class="ni">#45</span>{{&lt; /forge-ref &gt;}}.</span></span></code></pre></td></tr></table>
</div>
</div>
<h3 id="example-3-multiple-forge-types">Example 3: Multiple Forge Types<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p><strong>Configuration:</strong></p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">forges</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">gitlab-main</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">gitlab</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">base_url</span><span class="p">:</span><span class="w"> </span><span class="l">https://gitlab.com</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">github-oss</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">github</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">base_url</span><span class="p">:</span><span class="w"> </span><span class="l">https://github.com</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">repositories</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l">https://gitlab.com/myorg/internal-docs</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">forge</span><span class="p">:</span><span class="w"> </span><span class="l">gitlab-main</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l">https://github.com/myorg/public-docs</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">forge</span><span class="p">:</span><span class="w"> </span><span class="l">github-oss</span></span></span></code></pre></td></tr></table>
</div>
</div>
<p><strong>Source (in gitlab-main repo):</strong></p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-markdown" data-lang="markdown"><span class="line"><span class="cl">Internal issue: <span class="ni">#100</span>
</span></span><span class="line"><span class="cl">Public discussion: myorg/public-docs<span class="ni">#50</span></span></span></code></pre></td></tr></table>
</div>
</div>
<p><strong>After Processing:</strong></p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-markdown" data-lang="markdown"><span class="line"><span class="cl">Internal issue: [<span class="nt">#100</span>](<span class="na">https://gitlab.com/myorg/internal-docs/-/issues/100</span>)
</span></span><span class="line"><span class="cl">Public discussion: [<span class="nt">myorg/public-docs#50</span>](<span class="na">https://github.com/myorg/public-docs/issues/50</span>)</span></span></code></pre></td></tr></table>
</div>
</div>
<h2 id="implementation-plan">Implementation Plan<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<h3 id="phase-1-foundation-week-1">Phase 1: Foundation (Week 1)<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<ul>
<li><input disabled="" type="checkbox"> Create shared helper utilities (<code>applyReplacements</code>, pattern extraction)</li>
<li><input disabled="" type="checkbox"> Create <code>ReferenceCache</code> interface and NATS implementation</li>
<li><input disabled="" type="checkbox"> Add cache factory with graceful degradation logic</li>
<li><input disabled="" type="checkbox"> Unit tests for helper utilities and cache layer</li>
</ul>
<h3 id="phase-2-gitlab-issue-references-week-1-2">Phase 2: GitLab Issue References (Week 1-2)<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<ul>
<li><input disabled="" type="checkbox"> Implement <code>GitLabIssueReferenceTransform</code> (single transform: detect + build URL + replace)</li>
<li><input disabled="" type="checkbox"> Pattern matching for <code>#123</code>, <code>GL-123</code>, <code>[issue:123]</code></li>
<li><input disabled="" type="checkbox"> URL building with cache integration</li>
<li><input disabled="" type="checkbox"> Unit tests (pattern detection, URL building, content replacement)</li>
<li><input disabled="" type="checkbox"> Golden test with GitLab repo containing issue references</li>
<li><input disabled="" type="checkbox"> Test thoroughly before moving to next reference type</li>
</ul>
<h3 id="phase-3-gitlab-merge-requests-week-2-3">Phase 3: GitLab Merge Requests (Week 2-3)<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<ul>
<li><input disabled="" type="checkbox"> Implement <code>GitLabMergeRequestReferenceTransform</code> (!123 syntax)</li>
<li><input disabled="" type="checkbox"> Pattern matching for <code>!123</code> and cross-project <code>namespace/project!123</code></li>
<li><input disabled="" type="checkbox"> URL building for merge requests</li>
<li><input disabled="" type="checkbox"> Unit tests for MR-specific patterns</li>
<li><input disabled="" type="checkbox"> Update golden tests to include MR references</li>
<li><input disabled="" type="checkbox"> Verify no regressions in issue transform</li>
</ul>
<h3 id="phase-4-github-support-week-3-4">Phase 4: GitHub Support (Week 3-4)<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<ul>
<li><input disabled="" type="checkbox"> Implement <code>GitHubIssueReferenceTransform</code> (#123 for issues and PRs)</li>
<li><input disabled="" type="checkbox"> Pattern matching for same-repo and cross-repo references</li>
<li><input disabled="" type="checkbox"> URL building for GitHub issues/PRs</li>
<li><input disabled="" type="checkbox"> Unit tests for GitHub-specific patterns</li>
<li><input disabled="" type="checkbox"> Golden test with GitHub repo</li>
<li><input disabled="" type="checkbox"> Test multi-forge scenarios (GitLab + GitHub repos)</li>
</ul>
<h3 id="phase-5-additional-reference-types-week-4-5">Phase 5: Additional Reference Types (Week 4-5)<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<ul>
<li><input disabled="" type="checkbox"> GitLab: Labels (~label), Milestones (%v1.0), Users (@username)</li>
<li><input disabled="" type="checkbox"> GitHub: Users (@username), Teams (@org/team)</li>
<li><input disabled="" type="checkbox"> Forgejo: Issues (#123), Users (@username)</li>
<li><input disabled="" type="checkbox"> Build one transform at a time, test thoroughly</li>
<li><input disabled="" type="checkbox"> Integration tests with all reference types combined</li>
</ul>
<h3 id="phase-6-cross-project-references-week-5-6">Phase 6: Cross-Project References (Week 5-6)<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<ul>
<li><input disabled="" type="checkbox"> Implement cross-project pattern detection (<code>namespace/project#123</code>)</li>
<li><input disabled="" type="checkbox"> Update all transforms to handle cross-project syntax</li>
<li><input disabled="" type="checkbox"> Test cross-project URL building</li>
<li><input disabled="" type="checkbox"> Golden tests with cross-project references</li>
<li><input disabled="" type="checkbox"> Performance optimization (regex compilation, caching efficiency)</li>
<li><input disabled="" type="checkbox"> Error handling improvements</li>
</ul>
<h3 id="phase-7-advanced-features-week-6-7">Phase 7: Advanced Features (Week 6-7)<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<ul>
<li><input disabled="" type="checkbox"> GitLab Snippets ($123), Epics (&amp;123), Alerts (^alert#123)</li>
<li><input disabled="" type="checkbox"> Commit SHA references (all forges)</li>
<li><input disabled="" type="checkbox"> Quoted labels (<code>~&quot;feature request&quot;</code>)</li>
<li><input disabled="" type="checkbox"> Documentation and user guide</li>
<li><input disabled="" type="checkbox"> Migration guide for existing deployments</li>
</ul>
<h3 id="phase-8-optional-enhancements-week-7-8">Phase 8: Optional Enhancements (Week 7-8)<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<ul>
<li><input disabled="" type="checkbox"> API-based validation (optional, disabled by default)</li>
<li><input disabled="" type="checkbox"> Fetch issue/MR titles for richer link text</li>
<li><input disabled="" type="checkbox"> Metrics for reference processing (count by type, cache hit rate)</li>
<li><input disabled="" type="checkbox"> Advanced caching strategies (pre-warming, TTL tuning)</li>
</ul>
<h2 id="open-questions">Open Questions<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<ol>
<li>
<p><strong>Forge Type Detection:</strong> Do we need to detect forge type from content?</p>
<ul>
<li><strong>Answer:</strong> No! We already know from <code>page.File.Forge</code>. Each document tracks its source forge.</li>
</ul>
</li>
<li>
<p><strong>Caching Strategy:</strong> Use NATS KV (like link verification) or local cache?</p>
<ul>
<li><strong>Answer:</strong> Use NATS KV automatically when available (daemon mode) with 24h default TTL. Degrade gracefully to in-memory cache if NATS unavailable. Log when degradation occurs. No user configuration needed.</li>
</ul>
</li>
<li>
<p><strong>Private References:</strong> How to handle references to private issues?</p>
<ul>
<li><strong>Recommendation:</strong> Skip resolution, preserve original text, log warning</li>
</ul>
</li>
<li>
<p><strong>Reference Validation:</strong> Should we validate that references exist?</p>
<ul>
<li><strong>Recommendation:</strong> Optional validation (off by default), log warnings</li>
</ul>
</li>
<li>
<p><strong>Shortcode Library:</strong> Which Hugo theme should host shortcodes?</p>
<ul>
<li><strong>Recommendation:</strong> Include in all themes, theme-agnostic design</li>
</ul>
</li>
<li>
<p><strong>API Authentication:</strong> Use same auth as git operations?</p>
<ul>
<li><strong>Recommendation:</strong> Yes, reuse existing forge auth config</li>
</ul>
</li>
</ol>
<h2 id="references">References<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<ul>
<li><a href="https://docs.gitlab.com/ee/user/markdown.html" rel="external">GitLab Flavored Markdown</a></li>
<li><a href="https://github.github.com/gfm/" rel="external">GitHub Flavored Markdown</a></li>
<li><a href="https://forgejo.org/docs/latest/user/markdown/" rel="external">Forgejo Markdown</a></li>
<li><a href="/docs/adr/adr-002-in-memory-content-pipeline/index.html">ADR-002: In-Memory Content Pipeline</a></li>
<li><a href="/docs/adr/adr-003-fixed-transform-pipeline/index.html">ADR-003: Fixed Transform Pipeline</a></li>
</ul>
<h2 id="decision-log">Decision Log<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<ul>
<li><strong>2025-12-18:</strong> Initial proposal created with forge-specific markdown support concept</li>
<li><strong>2025-12-18:</strong> Clarified to use existing <code>page.File.Forge</code> metadata (no forge type detection needed)</li>
<li><strong>2025-12-18:</strong> Adopted per-reference-type transformers with <code>CanTransform()</code> guards for maximum modularity</li>
<li><strong>2025-12-18:</strong> Removed all user configuration (no enable/disable flags) - well-tested transforms always run</li>
<li><strong>2025-12-18:</strong> Simplified caching to automatic NATS KV with graceful degradation (24h default TTL, no user config)</li>
<li><strong>2025-12-18:</strong> Removed <code>TransformerConfiguration</code> - transformers are stateless or hold only cache reference</li>
<li><strong>2025-12-18:</strong> Combined detection and resolution into single-pass transforms (no separate renderer stage)</li>
<li><strong>2025-12-18:</strong> Transforms modify <code>page.Content</code> directly with standard markdown links (no intermediate metadata)</li>
<li><strong>2025-12-18:</strong> Finalized incremental implementation strategy: build one transform, test thoroughly, then next</li>
<li><strong>TBD:</strong> Team review and feedback</li>
<li><strong>TBD:</strong> Implementation start date</li>
</ul>

  <footer class="footline">
              <i class='fa-fw fas fa-calendar'></i> Dec 18, 2025
<div class="R-taxonomy taxonomy-categories cstyle" title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="/categories/architecture/index.html">Architecture</a></li>
  </ul>
</div>
  </footer>
</article>
        </div>
      </main>
    </div>
    <aside id="R-sidebar" class="default-animation">
      <div id="R-header-topbar" class="default-animation"></div>
      <div id="R-header-wrapper" class="default-animation">
        <a id="R-logo" class="R-default direction-row" href="/index.html">
          <span class="logo-title default-animation">Test</span>
        </a>
        <search><form action="/search/index.html" method="get">
          <div class="searchbox default-animation">
            <button class="search-detail" type="submit" title="Search (CTRL+ALT+f)"><i class="fas fa-fw fa-search"></i></button>
            <label class="a11y-only" for="R-search-by">Search</label>
            <input data-search-input id="R-search-by" name="search-by" class="search-by" type="search" placeholder="Search...">
            <button class="search-clear" type="button" data-search-clear="" title="Clear search"><i class="fas fa-fw fa-times" title="Clear search"></i></button>
          </div>
        </form></search>
      </div>
      <div id="R-homelinks" class="default-animation">
        <div class="R-menu-divider default-animation">
          <hr class="padding default-animation">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-homelinks default-animation">
          <ul class="space collapsible-menu">
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding default-animation">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-headercontrols default-animation">
          <ul class="">
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding default-animation">
        </div>
      </div>
      <div id="R-content-wrapper" class="highlightable">
        <div class="R-sidebarmenu R-shortcutmenu-main default-animation">
          <ul class="enlarge morespace collapsible-menu">
            <li class="parent " data-nav-id="/docs/index.html"><input type="checkbox" id="R-section-b5fa667da3c6d162416dac7e8c63bf8a" aria-controls="R-subsections-b5fa667da3c6d162416dac7e8c63bf8a" checked><label for="R-section-b5fa667da3c6d162416dac7e8c63bf8a"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu DocBuilder Documentation</span></label><a class="padding default-animation" href="/docs/index.html">DocBuilder Documentation<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-b5fa667da3c6d162416dac7e8c63bf8a" class="collapsible-menu">
            <li class="parent " data-nav-id="/docs/adr/index.html"><input type="checkbox" id="R-section-eb249477945dd1091e00721cd98f2bb3" aria-controls="R-subsections-eb249477945dd1091e00721cd98f2bb3" checked><label for="R-section-eb249477945dd1091e00721cd98f2bb3"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu adr</span></label><a class="padding default-animation" href="/docs/adr/index.html">adr<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-eb249477945dd1091e00721cd98f2bb3" class="collapsible-menu">
            <li class="" data-nav-id="/docs/adr/adr-000-uniform-error-handling/index.html"><a class="padding" href="/docs/adr/adr-000-uniform-error-handling/index.html">ADR-000: Uniform Error Handling<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/adr/adr-001-golden-testing-strategy/index.html"><a class="padding" href="/docs/adr/adr-001-golden-testing-strategy/index.html">ADR-001: Golden Testing Strategy for Output Verification<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/adr/adr-002-in-memory-content-pipeline/index.html"><a class="padding" href="/docs/adr/adr-002-in-memory-content-pipeline/index.html">ADR-002: Fix Index Stage Pipeline Bypass<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/adr/adr-003-fixed-transform-pipeline/index.html"><a class="padding" href="/docs/adr/adr-003-fixed-transform-pipeline/index.html">ADR-003: Fixed Transform Pipeline<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/adr/adr-005-documentation-linting/index.html"><a class="padding" href="/docs/adr/adr-005-documentation-linting/index.html">ADR-005: Documentation Linting for Pre-Commit Validation<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="active " data-nav-id="/docs/adr/adr-004-forge-specific-markdown/index.html"><a class="padding" href="/docs/adr/adr-004-forge-specific-markdown/index.html">ADR-004: Forge-Specific Markdown Support<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
            <li class="" data-nav-id="/docs/debugging/index.html"><input type="checkbox" id="R-section-074abb89e994f93a5c2b6e91c0a76d87" aria-controls="R-subsections-074abb89e994f93a5c2b6e91c0a76d87"><label for="R-section-074abb89e994f93a5c2b6e91c0a76d87"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu debugging</span></label><a class="padding default-animation" href="/docs/debugging/index.html">debugging<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-074abb89e994f93a5c2b6e91c0a76d87" class="collapsible-menu">
            <li class="" data-nav-id="/docs/debugging/issue-001-docs-navigation-naming/index.html"><a class="padding" href="/docs/debugging/issue-001-docs-navigation-naming/index.html">issue-001-docs-navigation-naming<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
            <li class="" data-nav-id="/docs/how-to/index.html"><input type="checkbox" id="R-section-816fa9c68a5e0b65c6adadae7dee3943" aria-controls="R-subsections-816fa9c68a5e0b65c6adadae7dee3943"><label for="R-section-816fa9c68a5e0b65c6adadae7dee3943"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu how-to</span></label><a class="padding default-animation" href="/docs/how-to/index.html">how-to<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-816fa9c68a5e0b65c6adadae7dee3943" class="collapsible-menu">
            <li class="" data-nav-id="/docs/how-to/pr-comment-integration/index.html"><a class="padding" href="/docs/how-to/pr-comment-integration/index.html">pr-comment-integration<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/how-to/ci-cd-linting/index.html"><a class="padding" href="/docs/how-to/ci-cd-linting/index.html">How To: CI/CD Linting Integration<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/how-to/migrate-to-linting/index.html"><a class="padding" href="/docs/how-to/migrate-to-linting/index.html">How To: Migrate Existing Repository to Linting<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/how-to/setup-linting/index.html"><a class="padding" href="/docs/how-to/setup-linting/index.html">How To: Setup Documentation Linting<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/how-to/configure-webhooks/index.html"><a class="padding" href="/docs/how-to/configure-webhooks/index.html">Configure Webhooks for Automatic Rebuilds<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/how-to/add-content-transforms/index.html"><a class="padding" href="/docs/how-to/add-content-transforms/index.html">How To: Add Content Transforms<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/how-to/configure-forge-namespacing/index.html"><a class="padding" href="/docs/how-to/configure-forge-namespacing/index.html">How To: Configure Forge Namespacing<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/how-to/customize-index-pages/index.html"><a class="padding" href="/docs/how-to/customize-index-pages/index.html">How To: Customize Index Pages<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/how-to/enable-hugo-render/index.html"><a class="padding" href="/docs/how-to/enable-hugo-render/index.html">How To: Enable Hugo Rendering<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/how-to/enable-multi-version-docs/index.html"><a class="padding" href="/docs/how-to/enable-multi-version-docs/index.html">How To: Enable Multi-Version Documentation<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/how-to/enable-page-transitions/index.html"><a class="padding" href="/docs/how-to/enable-page-transitions/index.html">How To: Enable Page Transitions<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/how-to/prune-workspace-size/index.html"><a class="padding" href="/docs/how-to/prune-workspace-size/index.html">How To: Prune Workspace Size<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/how-to/run-incremental-builds/index.html"><a class="padding" href="/docs/how-to/run-incremental-builds/index.html">How To: Run Incremental Builds<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/how-to/use-relearn-theme/index.html"><a class="padding" href="/docs/how-to/use-relearn-theme/index.html">How To: Use Relearn Theme<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/how-to/write-cross-document-links/index.html"><a class="padding" href="/docs/how-to/write-cross-document-links/index.html">How To: Write Cross-Document Links<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
            <li class="" data-nav-id="/docs/refactoring/index.html"><input type="checkbox" id="R-section-052111b19865c39b759df952c283ee8d" aria-controls="R-subsections-052111b19865c39b759df952c283ee8d"><label for="R-section-052111b19865c39b759df952c283ee8d"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu refactoring</span></label><a class="padding default-animation" href="/docs/refactoring/index.html">refactoring<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-052111b19865c39b759df952c283ee8d" class="collapsible-menu">
            <li class="" data-nav-id="/docs/refactoring/nestif-complexity-reduction/index.html"><a class="padding" href="/docs/refactoring/nestif-complexity-reduction/index.html">Nested Complexity Reduction Plan<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
            <li class="" data-nav-id="/docs/reference/index.html"><input type="checkbox" id="R-section-ed53feda5bacec73fdf65d35bda5c479" aria-controls="R-subsections-ed53feda5bacec73fdf65d35bda5c479"><label for="R-section-ed53feda5bacec73fdf65d35bda5c479"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu reference</span></label><a class="padding default-animation" href="/docs/reference/index.html">reference<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-ed53feda5bacec73fdf65d35bda5c479" class="collapsible-menu">
            <li class="" data-nav-id="/docs/reference/index-files/index.html"><a class="padding" href="/docs/reference/index-files/index.html">index-files<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/reference/lint-json-schema/index.html"><a class="padding" href="/docs/reference/lint-json-schema/index.html">lint-json-schema<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/reference/lint-rules-changelog/index.html"><a class="padding" href="/docs/reference/lint-rules-changelog/index.html">Lint Rules Changelog<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/reference/lint-rules/index.html"><a class="padding" href="/docs/reference/lint-rules/index.html">Lint Rules Reference<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/reference/report/index.html"><a class="padding" href="/docs/reference/report/index.html">Build Reports Reference<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/reference/cli/index.html"><a class="padding" href="/docs/reference/cli/index.html">CLI Reference<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/reference/configuration/index.html"><a class="padding" href="/docs/reference/configuration/index.html">Configuration Reference<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/reference/content-transforms/index.html"><a class="padding" href="/docs/reference/content-transforms/index.html">Content Transforms Reference (DEPRECATED)<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/reference/pipeline-visualization/index.html"><a class="padding" href="/docs/reference/pipeline-visualization/index.html">Pipeline Visualization<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/reference/transform-validation/index.html"><a class="padding" href="/docs/reference/transform-validation/index.html">Transform Validation Reference (DEPRECATED)<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
            <li class="" data-nav-id="/docs/testing/index.html"><input type="checkbox" id="R-section-a2b6f2e8c080b8619f4023bd7003b7ed" aria-controls="R-subsections-a2b6f2e8c080b8619f4023bd7003b7ed"><label for="R-section-a2b6f2e8c080b8619f4023bd7003b7ed"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu testing</span></label><a class="padding default-animation" href="/docs/testing/index.html">testing<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-a2b6f2e8c080b8619f4023bd7003b7ed" class="collapsible-menu">
            <li class="" data-nav-id="/docs/testing/golden-test-implementation/index.html"><a class="padding" href="/docs/testing/golden-test-implementation/index.html">Golden Test Implementation<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
            <li class="" data-nav-id="/docs/tutorials/index.html"><input type="checkbox" id="R-section-07180028894b25824d0806e8fa591d66" aria-controls="R-subsections-07180028894b25824d0806e8fa591d66"><label for="R-section-07180028894b25824d0806e8fa591d66"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu tutorials</span></label><a class="padding default-animation" href="/docs/tutorials/index.html">tutorials<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-07180028894b25824d0806e8fa591d66" class="collapsible-menu">
            <li class="" data-nav-id="/docs/tutorials/getting-started/index.html"><a class="padding" href="/docs/tutorials/getting-started/index.html">Getting Started Tutorial<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
            <li class="" data-nav-id="/docs/ci-architecture-detection/index.html"><a class="padding" href="/docs/ci-architecture-detection/index.html">CI Architecture Detection<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/ci-cd-setup/index.html"><a class="padding" href="/docs/ci-cd-setup/index.html">CI/CD Setup Guide<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/explanation/index.html"><input type="checkbox" id="R-section-db26f542389517033cda1be23c4bdbb2" aria-controls="R-subsections-db26f542389517033cda1be23c4bdbb2"><label for="R-section-db26f542389517033cda1be23c4bdbb2"><i class="fa-fw fas fa-chevron-right"></i><span class="a11y-only">Submenu Explanation Documentation</span></label><a class="padding default-animation" href="/docs/explanation/index.html">Explanation Documentation<i class="fa-fw fas fa-check read-icon"></i></a><ul id="R-subsections-db26f542389517033cda1be23c4bdbb2" class="collapsible-menu">
            <li class="" data-nav-id="/docs/explanation/webhook-documentation-isolation/index.html"><a class="padding" href="/docs/explanation/webhook-documentation-isolation/index.html">Webhook and Documentation Isolation Strategy<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/explanation/architecture-diagrams/index.html"><a class="padding" href="/docs/explanation/architecture-diagrams/index.html">Architecture Diagrams<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/explanation/architecture/index.html"><a class="padding" href="/docs/explanation/architecture/index.html">Architecture Overview<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/explanation/comprehensive-architecture/index.html"><a class="padding" href="/docs/explanation/comprehensive-architecture/index.html">Comprehensive Architecture<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/explanation/namespacing-rationale/index.html"><a class="padding" href="/docs/explanation/namespacing-rationale/index.html">Namespacing Rationale<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/explanation/package-architecture/index.html"><a class="padding" href="/docs/explanation/package-architecture/index.html">Package Architecture<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/explanation/renderer-testing/index.html"><a class="padding" href="/docs/explanation/renderer-testing/index.html">Renderer Testing<i class="fa-fw fas fa-check read-icon"></i></a></li>
            <li class="" data-nav-id="/docs/explanation/skip-evaluation/index.html"><a class="padding" href="/docs/explanation/skip-evaluation/index.html">Skip Evaluation Logic<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
            <li class="" data-nav-id="/docs/style_guide/index.html"><a class="padding" href="/docs/style_guide/index.html">Go Style Guide<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li>
          </ul>
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-shortcuts default-animation">
          <ul class="space collapsible-menu">
          </ul>
        </div>
        <div id="R-footer-margin" class="default-animation"></div>
        <div class="R-menu-divider default-animation">
          <hr class="padding default-animation">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-footercontrols default-animation">
          <ul class="">
            <li class="R-variantswitcher">
              <div class="padding menu-control">
                <i class="fa-fw fas fa-paint-brush"></i>
                <span>&nbsp;</span>
                <div class="control-style">
                  <label class="a11y-only" for="R-select-variant">Theme</label>
                  <select id="R-select-variant">
                    <option id="R-select-variant-auto" value="auto" selected>Auto</option>
                    <option id="R-select-variant-zen-light" value="zen-light">Zen Light</option>
                    <option id="R-select-variant-zen-dark" value="zen-dark">Zen Dark</option>
                  </select>
                </div>
                <div class="clear"></div>
              </div>
              <script>window.relearn.markVariant();</script>
            </li>
            <li class="R-historyclearer">
              <div class="padding menu-control">
                <i class="fa-fw fas fa-history"></i>
                <span>&nbsp;</span>
                <div class="control-style">
                  <button>Clear History</button>
                </div>
                <div class="clear"></div>
              </div>
            </li>
          </ul>
        </div>
<div id="R-footer" class="default-animation"><p>Built with <a href="https://github.com/McShelby/hugo-theme-relearn" title="love"><i class="fas fa-heart"></i></a> by <a href="https://gohugo.io/">Hugo</a></p></div>
      </div>
    </aside>
    <script src="/js/perfect-scrollbar/perfect-scrollbar.min.js?1767195092" defer></script>
    <script src="/js/theme.min.js?1767195092" defer></script>
    <div id="toast-container" role="status" aria-live="polite" aria-atomic="false"></div>
  </body>
</html>
